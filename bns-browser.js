"use strict";(()=>{var Zn=Object.create;var Ze=Object.defineProperty;var $n=Object.getOwnPropertyDescriptor;var ei=Object.getOwnPropertyNames;var ti=Object.getPrototypeOf,ri=Object.prototype.hasOwnProperty;var h=(e,r)=>Ze(e,"name",{value:r,configurable:!0}),br=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var S=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),vt=(e,r)=>{for(var t in r)Ze(e,t,{get:r[t],enumerable:!0})},ni=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ei(r))!ri.call(e,s)&&s!==t&&Ze(e,s,{get:()=>r[s],enumerable:!(n=$n(r,s))||n.enumerable});return e};var Ke=(e,r,t)=>(t=e!=null?Zn(ti(e)):{},ni(r||!e||!e.__esModule?Ze(t,"default",{value:e,enumerable:!0}):t,e));var Ft=S((So,mr)=>{mr.exports=Qr;var $e=class extends Error{static{h(this,"AssertionError")}};$e.prototype.name="AssertionError";function Qr(e,r){if(!e){var t=new $e(r);throw Error.captureStackTrace&&Error.captureStackTrace(t,Qr),t}}h(Qr,"assert")});var Ur=S((vo,Sr)=>{function Dr(e){return e.length}h(Dr,"byteLength");function ii(e){let r=e.byteLength,t="";for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return t}h(ii,"toString");function oi(e,r,t=0,n=Dr(r)){let s=Math.min(n,e.byteLength-t);for(let f=0;f<s;f++)e[t+f]=r.charCodeAt(f);return s}h(oi,"write");Sr.exports={byteLength:Dr,toString:ii,write:oi}});var Kr=S((Ko,Fr)=>{var ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae=new Uint8Array(256);for(let e=0;e<ye.length;e++)Ae[ye.charCodeAt(e)]=e;Ae[45]=62;Ae[95]=63;function vr(e){let r=e.length;return e.charCodeAt(r-1)===61&&r--,r>1&&e.charCodeAt(r-1)===61&&r--,r*3>>>2}h(vr,"byteLength");function Ai(e){let r=e.byteLength,t="";for(let n=0;n<r;n+=3)t+=ye[e[n]>>2]+ye[(e[n]&3)<<4|e[n+1]>>4]+ye[(e[n+1]&15)<<2|e[n+2]>>6]+ye[e[n+2]&63];return r%3===2?t=t.substring(0,t.length-1)+"=":r%3===1&&(t=t.substring(0,t.length-2)+"=="),t}h(Ai,"toString");function ai(e,r,t=0,n=vr(r)){let s=Math.min(n,e.byteLength-t);for(let f=0,u=0;u<s;f+=4){let _=Ae[r.charCodeAt(f)],w=Ae[r.charCodeAt(f+1)],x=Ae[r.charCodeAt(f+2)],Q=Ae[r.charCodeAt(f+3)];e[u++]=_<<2|w>>4,e[u++]=(w&15)<<4|x>>2,e[u++]=(x&3)<<6|Q&63}return s}h(ai,"write");Fr.exports={byteLength:vr,toString:Ai,write:ai}});var Mr=S((Yo,Lr)=>{function Yr(e){return e.length>>>1}h(Yr,"byteLength");function si(e){let r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,r);let t="",n=0;for(let s=r-r%4;n<s;n+=4)t+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<r;n++)t+=e.getUint8(n).toString(16).padStart(2,"0");return t}h(si,"toString");function hi(e,r,t=0,n=Yr(r)){let s=Math.min(n,e.byteLength-t);for(let f=0;f<s;f++){let u=kr(r.charCodeAt(f*2)),_=kr(r.charCodeAt(f*2+1));if(u===void 0||_===void 0)return e.subarray(0,f);e[t+f]=u<<4|_}return s}h(hi,"write");Lr.exports={byteLength:Yr,toString:si,write:hi};function kr(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-65+10;if(e>=97&&e<=102)return e-97+10}h(kr,"hexValue")});var Pr=S((Mo,Hr)=>{function Kt(e){let r=0;for(let t=0,n=e.length;t<n;t++){let s=e.charCodeAt(t);if(s>=55296&&s<=56319&&t+1<n){let f=e.charCodeAt(t+1);if(f>=56320&&f<=57343){r+=4,t++;continue}}s<=127?r+=1:s<=2047?r+=2:r+=3}return r}h(Kt,"byteLength");var kt;if(typeof TextDecoder<"u"){let e=new TextDecoder;kt=h(function(t){return e.decode(t)},"toString")}else kt=h(function(r){let t=r.byteLength,n="",s=0;for(;s<t;){let f=r[s];if(f<=127){n+=String.fromCharCode(f),s++;continue}let u=0,_=0;if(f<=223?(u=1,_=f&31):f<=239?(u=2,_=f&15):f<=244&&(u=3,_=f&7),t-s-u>0){let w=0;for(;w<u;)f=r[s+w+1],_=_<<6|f&63,w+=1}else _=65533,u=t-s;n+=String.fromCodePoint(_),s+=u+1}return n},"toString");var Yt;if(typeof TextEncoder<"u"){let e=new TextEncoder;Yt=h(function(t,n,s=0,f=Kt(n)){let u=Math.min(f,t.byteLength-s);return e.encodeInto(n,t.subarray(s,s+u)),u},"write")}else Yt=h(function(r,t,n=0,s=Kt(t)){let f=Math.min(s,r.byteLength-n);r=r.subarray(n,n+f);let u=0,_=0;for(;u<t.length;){let w=t.codePointAt(u);if(w<=127){r[_++]=w,u++;continue}let x=0,Q=0;for(w<=2047?(x=6,Q=192):w<=65535?(x=12,Q=224):w<=2097151&&(x=18,Q=240),r[_++]=Q|w>>x,x-=6;x>=0;)r[_++]=128|w>>x&63,x-=6;u+=w>=65536?2:1}return f},"write");Hr.exports={byteLength:Kt,toString:kt,write:Yt}});var Gr=S((Po,Or)=>{function Vr(e){return e.length*2}h(Vr,"byteLength");function Ii(e){let r=e.byteLength,t="";for(let n=0;n<r-1;n+=2)t+=String.fromCharCode(e[n]+e[n+1]*256);return t}h(Ii,"toString");function ci(e,r,t=0,n=Vr(r)){let s=Math.min(n,e.byteLength-t),f=s;for(let u=0;u<r.length&&!((f-=2)<0);++u){let _=r.charCodeAt(u),w=_>>8,x=_%256;e[t+u*2]=x,e[t+u*2+1]=w}return s}h(ci,"write");Or.exports={byteLength:Vr,toString:Ii,write:ci}});var Jr=S((Mt,jr)=>{var fi=Ur(),gi=Kr(),ui=Mr(),li=Pr(),Ci=Gr(),et=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function ke(e){switch(e){case"ascii":return fi;case"base64":return gi;case"hex":return ui;case"utf8":case"utf-8":case void 0:return li;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ci;default:throw new Error(`Unknown encoding: ${e}`)}}h(ke,"codecFor");function Rr(e){return e instanceof Uint8Array}h(Rr,"isBuffer");function yi(e){try{return ke(e),!0}catch{return!1}}h(yi,"isEncoding");function _i(e,r,t){let n=new Uint8Array(e);return r!==void 0&&Mt.fill(n,r,0,n.byteLength,t),n}h(_i,"alloc");function di(e){return new Uint8Array(e)}h(di,"allocUnsafe");function wi(e){return new Uint8Array(e)}h(wi,"allocUnsafeSlow");function Ei(e,r){return ke(r).byteLength(e)}h(Ei,"byteLength");function xi(e,r){if(e===r)return 0;let t=Math.min(e.byteLength,r.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let n=0;for(let s=t-t%4;n<s;n+=4){let f=e.getUint32(n,et),u=r.getUint32(n,et);if(f!==u)break}for(;n<t;n++){let s=e.getUint8(n),f=r.getUint8(n);if(s<f)return-1;if(s>f)return 1}return e.byteLength>r.byteLength?1:e.byteLength<r.byteLength?-1:0}h(xi,"compare");function Bi(e,r){r===void 0&&(r=e.reduce((s,f)=>s+f.byteLength,0));let t=new Uint8Array(r),n=0;for(let s of e){if(n+s.byteLength>t.byteLength){let f=s.subarray(0,t.byteLength-n);return t.set(f,n),t}t.set(s,n),n+=s.byteLength}return t}h(Bi,"concat");function pi(e,r,t=0,n=0,s=e.byteLength){if(s>0&&s<n||s===n||e.byteLength===0||r.byteLength===0)return 0;if(t<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(s<0)throw new RangeError("sourceEnd is out of range");t>=r.byteLength&&(t=r.byteLength),s>e.byteLength&&(s=e.byteLength),r.byteLength-t<s-n&&(s=r.length-t+n);let f=s-n;return e===r?r.copyWithin(t,n,s):r.set(e.subarray(n,s),t),f}h(pi,"copy");function bi(e,r){if(e===r)return!0;if(e.byteLength!==r.byteLength)return!1;let t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let n=0;for(let s=t-t%4;n<s;n+=4)if(e.getUint32(n,et)!==r.getUint32(n,et))return!1;for(;n<t;n++)if(e.getUint8(n)!==r.getUint8(n))return!1;return!0}h(bi,"equals");function Qi(e,r,t,n,s){if(typeof r=="string"?typeof t=="string"?(s=t,t=0,n=e.byteLength):typeof n=="string"&&(s=n,n=e.byteLength):typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=+r),t<0||e.byteLength<t||e.byteLength<n)throw new RangeError("Out of range index");if(t===void 0&&(t=0),n===void 0&&(n=e.byteLength),n<=t)return e;if(r||(r=0),typeof r=="number")for(let f=t;f<n;++f)e[f]=r;else{r=Rr(r)?r:Lt(r,s);let f=r.byteLength;for(let u=0;u<n-t;++u)e[u+t]=r[u%f]}return e}h(Qi,"fill");function Lt(e,r,t){return typeof e=="string"?mi(e,r):Array.isArray(e)?Di(e):ArrayBuffer.isView(e)?Si(e):Ui(e,r,t)}h(Lt,"from");function mi(e,r){let t=ke(r),n=new Uint8Array(t.byteLength(e));return t.write(n,e,0,n.byteLength),n}h(mi,"fromString");function Di(e){let r=new Uint8Array(e.length);return r.set(e),r}h(Di,"fromArray");function Si(e){let r=new Uint8Array(e.byteLength);return r.set(e),r}h(Si,"fromBuffer");function Ui(e,r,t){return new Uint8Array(e,r,t)}h(Ui,"fromArrayBuffer");function vi(e,r,t,n){return Tr(e,r,t,n)!==-1}h(vi,"includes");function Nr(e,r,t,n,s){if(e.byteLength===0)return-1;if(typeof t=="string"?(n=t,t=0):t===void 0?t=s?0:e.length-1:t<0&&(t+=e.byteLength),t>=e.byteLength){if(s)return-1;t=e.byteLength-1}else if(t<0)if(s)t=0;else return-1;if(typeof r=="string")r=Lt(r,n);else if(typeof r=="number")return r=r&255,s?e.indexOf(r,t):e.lastIndexOf(r,t);if(r.byteLength===0)return-1;if(s){let f=-1;for(let u=t;u<e.byteLength;u++)if(e[u]===r[f===-1?0:u-f]){if(f===-1&&(f=u),u-f+1===r.byteLength)return f}else f!==-1&&(u-=u-f),f=-1}else{t+r.byteLength>e.byteLength&&(t=e.byteLength-r.byteLength);for(let f=t;f>=0;f--){let u=!0;for(let _=0;_<r.byteLength;_++)if(e[f+_]!==r[_]){u=!1;break}if(u)return f}}return-1}h(Nr,"bidirectionalIndexOf");function Tr(e,r,t,n){return Nr(e,r,t,n,!0)}h(Tr,"indexOf");function Fi(e,r,t,n){return Nr(e,r,t,n,!1)}h(Fi,"lastIndexOf");function ae(e,r,t){let n=e[r];e[r]=e[t],e[t]=n}h(ae,"swap");function Ki(e){let r=e.byteLength;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)ae(e,t,t+1);return e}h(Ki,"swap16");function ki(e){let r=e.byteLength;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)ae(e,t,t+3),ae(e,t+1,t+2);return e}h(ki,"swap32");function Yi(e){let r=e.byteLength;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)ae(e,t,t+7),ae(e,t+1,t+6),ae(e,t+2,t+5),ae(e,t+3,t+4);return e}h(Yi,"swap64");function Li(e){return e}h(Li,"toBuffer");function Mi(e,r,t=0,n=e.byteLength){let s=e.byteLength;return t>=s||n<=t?"":(t<0&&(t=0),n>s&&(n=s),(t!==0||n<s)&&(e=e.subarray(t,n)),ke(r).toString(e))}h(Mi,"toString");function Hi(e,r,t,n,s){return t===void 0?s="utf8":n===void 0&&typeof t=="string"?(s=t,t=void 0):s===void 0&&typeof n=="string"&&(s=n,n=void 0),ke(s).write(e,r,t,n)}h(Hi,"write");function Pi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(t,r,!0),t+8}h(Pi,"writeDoubleLE");function Vi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(t,r,!0),t+4}h(Vi,"writeFloatLE");function Oi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(t,r,!0),t+4}h(Oi,"writeUInt32LE");function Gi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(t,r,!0),t+4}h(Gi,"writeInt32LE");function Ri(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(r,!0)}h(Ri,"readDoubleLE");function Ni(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(r,!0)}h(Ni,"readFloatLE");function Ti(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(r,!0)}h(Ti,"readUInt32LE");function ji(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(r,!0)}h(ji,"readInt32LE");jr.exports=Mt={isBuffer:Rr,isEncoding:yi,alloc:_i,allocUnsafe:di,allocUnsafeSlow:wi,byteLength:Ei,compare:xi,concat:Bi,copy:pi,equals:bi,fill:Qi,from:Lt,includes:vi,indexOf:Tr,lastIndexOf:Fi,swap16:Ki,swap32:ki,swap64:Yi,toBuffer:Li,toString:Mi,write:Hi,writeDoubleLE:Pi,writeFloatLE:Vi,writeUInt32LE:Oi,writeInt32LE:Gi,readDoubleLE:Ri,readFloatLE:Ni,readUInt32LE:Ti,readInt32LE:ji}});var qr=S((Go,Xr)=>{var Ji=h((e,r)=>h(function(){return r||(0,e[Object.keys(e)[0]])((r={exports:{}}).exports,r),r.exports},"__require"),"__commonJS"),Xi=(()=>{for(var e=new Uint8Array(128),r=0;r<64;r++)e[r<26?r+65:r<52?r+71:r<62?r-4:r*4-205]=r;return t=>{for(var n=t.length,s=new Uint8Array((n-(t[n-1]=="=")-(t[n-2]=="="))*3/4|0),f=0,u=0;f<n;){var _=e[t.charCodeAt(f++)],w=e[t.charCodeAt(f++)],x=e[t.charCodeAt(f++)],Q=e[t.charCodeAt(f++)];s[u++]=_<<2|w>>4,s[u++]=w<<4|x>>2,s[u++]=x<<6|Q}return s}})(),qi=Ji({"wasm-binary:./blake2b.wat"(e,r){r.exports=Xi("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")}}),zi=qi(),Wi=WebAssembly.compile(zi);Xr.exports=async e=>(await WebAssembly.instantiate(await Wi,e)).exports});var nn=S((jo,J)=>{var M=Ft(),Zi=Jr(),W=null,zr=typeof WebAssembly<"u"&&qr()().then(e=>{W=e}),z=64,tt=[];J.exports=K;var Wr=J.exports.BYTES_MIN=16,Zr=J.exports.BYTES_MAX=64,No=J.exports.BYTES=32,$r=J.exports.KEYBYTES_MIN=16,en=J.exports.KEYBYTES_MAX=64,To=J.exports.KEYBYTES=32,tn=J.exports.SALTBYTES=16,rn=J.exports.PERSONALBYTES=16;function K(e,r,t,n,s){if(!(this instanceof K))return new K(e,r,t,n,s);if(!W)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),s!==!0&&(M(e>=Wr,"digestLength must be at least "+Wr+", was given "+e),M(e<=Zr,"digestLength must be at most "+Zr+", was given "+e),r!=null&&(M(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),M(r.length>=$r,"key must be at least "+$r+", was given "+r.length),M(r.length<=en,"key must be at least "+en+", was given "+r.length)),t!=null&&(M(t instanceof Uint8Array,"salt must be Uint8Array or Buffer"),M(t.length===tn,"salt must be exactly "+tn+", was given "+t.length)),n!=null&&(M(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),M(n.length===rn,"personal must be exactly "+rn+", was given "+n.length))),tt.length||(tt.push(z),z+=216),this.digestLength=e,this.finalized=!1,this.pointer=tt.pop(),this._memory=new Uint8Array(W.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=r?r.length:0,this._memory[2]=1,this._memory[3]=1,t&&this._memory.set(t,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),W.blake2b_init(this.pointer,this.digestLength),r&&(this.update(r),this._memory.fill(0,z,z+r.length),this._memory[this.pointer+200]=128)}h(K,"Blake2b");K.prototype._realloc=function(e){W.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(W.memory.buffer)};K.prototype.update=function(e){return M(this.finalized===!1,"Hash instance finalized"),M(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),z+e.length>this._memory.length&&this._realloc(z+e.length),this._memory.set(e,z),W.blake2b_update(this.pointer,z,z+e.length),this};K.prototype.digest=function(e){if(M(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,tt.push(this.pointer),W.blake2b_final(this.pointer),!e||e==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof e=="string")return Zi.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);M(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var r=0;r<this.digestLength;r++)e[r]=this._memory[this.pointer+128+r];return e};K.prototype.final=K.prototype.digest;K.WASM=W;K.SUPPORTED=typeof WebAssembly<"u";K.ready=function(e){return e||(e=$i),zr?zr.then(()=>e(),e):e(new Error("WebAssembly not supported"))};K.prototype.ready=K.ready;K.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};K.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};function $i(){}h($i,"noop")});var Ht=S((zo,k)=>{var P=Ft(),Le=nn();function rt(e,r,t){var n=e[r]+e[t],s=e[r+1]+e[t+1];n>=4294967296&&s++,e[r]=n,e[r+1]=s}h(rt,"ADD64AA");function on(e,r,t,n){var s=e[r]+t;t<0&&(s+=4294967296);var f=e[r+1]+n;s>=4294967296&&f++,e[r]=s,e[r+1]=f}h(on,"ADD64AC");function fn(e,r){return e[r]^e[r+1]<<8^e[r+2]<<16^e[r+3]<<24}h(fn,"B2B_GET32");function te(e,r,t,n,s,f){var u=Ye[s],_=Ye[s+1],w=Ye[f],x=Ye[f+1];rt(B,e,r),on(B,e,u,_);var Q=B[n]^B[e],D=B[n+1]^B[e+1];B[n]=D,B[n+1]=Q,rt(B,t,n),Q=B[r]^B[t],D=B[r+1]^B[t+1],B[r]=Q>>>24^D<<8,B[r+1]=D>>>24^Q<<8,rt(B,e,r),on(B,e,w,x),Q=B[n]^B[e],D=B[n+1]^B[e+1],B[n]=Q>>>16^D<<16,B[n+1]=D>>>16^Q<<16,rt(B,t,n),Q=B[r]^B[t],D=B[r+1]^B[t+1],B[r]=D>>>31^Q<<1,B[r+1]=Q>>>31^D<<1}h(te,"B2B_G");var gn=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),eo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],v=new Uint8Array(eo.map(function(e){return e*2})),B=new Uint32Array(32),Ye=new Uint32Array(32);function un(e,r){var t=0;for(t=0;t<16;t++)B[t]=e.h[t],B[t+16]=gn[t];for(B[24]=B[24]^e.t,B[25]=B[25]^e.t/4294967296,r&&(B[28]=~B[28],B[29]=~B[29]),t=0;t<32;t++)Ye[t]=fn(e.b,4*t);for(t=0;t<12;t++)te(0,8,16,24,v[t*16+0],v[t*16+1]),te(2,10,18,26,v[t*16+2],v[t*16+3]),te(4,12,20,28,v[t*16+4],v[t*16+5]),te(6,14,22,30,v[t*16+6],v[t*16+7]),te(0,10,20,30,v[t*16+8],v[t*16+9]),te(2,12,22,24,v[t*16+10],v[t*16+11]),te(4,14,16,26,v[t*16+12],v[t*16+13]),te(6,8,18,28,v[t*16+14],v[t*16+15]);for(t=0;t<16;t++)e.h[t]=e.h[t]^B[t]^B[t+16]}h(un,"blake2bCompress");var re=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function _e(e,r,t,n){re.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,re[0]=e,r&&(re[1]=r.length),re[2]=1,re[3]=1,t&&re.set(t,32),n&&re.set(n,48);for(var s=0;s<16;s++)this.h[s]=gn[s]^fn(re,s*4);r&&(ln(this,r),this.c=128)}h(_e,"Blake2b");_e.prototype.update=function(e){return P(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),ln(this,e),this};_e.prototype.digest=function(e){var r=!e||e==="binary"||e==="hex"?new Uint8Array(this.outlen):e;return P(r instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),P(r.length>=this.outlen,"out must have at least outlen bytes of space"),to(this,r),e==="hex"?ro(r):r};_e.prototype.final=_e.prototype.digest;_e.ready=function(e){Le.ready(function(){e()})};function ln(e,r){for(var t=0;t<r.length;t++)e.c===128&&(e.t+=e.c,un(e,!1),e.c=0),e.b[e.c++]=r[t]}h(ln,"blake2bUpdate");function to(e,r){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;un(e,!0);for(var t=0;t<e.outlen;t++)r[t]=e.h[t>>2]>>8*(t&3);return r}h(to,"blake2bFinal");function ro(e){for(var r="",t=0;t<e.length;t++)r+=no(e[t]);return r}h(ro,"hexSlice");function no(e){return e<16?"0"+e.toString(16):e.toString(16)}h(no,"toHex");var io=_e;k.exports=h(function(r,t,n,s,f){return f!==!0&&(P(r>=An,"outlen must be at least "+An+", was given "+r),P(r<=an,"outlen must be at most "+an+", was given "+r),t!=null&&(P(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),P(t.length>=sn,"key must be at least "+sn+", was given "+t.length),P(t.length<=hn,"key must be at most "+hn+", was given "+t.length)),n!=null&&(P(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),P(n.length===In,"salt must be exactly "+In+", was given "+n.length)),s!=null&&(P(s instanceof Uint8Array,"personal must be Uint8Array or Buffer"),P(s.length===cn,"personal must be exactly "+cn+", was given "+s.length))),new io(r,t,n,s)},"createHash");k.exports.ready=function(e){Le.ready(function(){e()})};k.exports.WASM_SUPPORTED=Le.SUPPORTED;k.exports.WASM_LOADED=!1;var An=k.exports.BYTES_MIN=16,an=k.exports.BYTES_MAX=64,Xo=k.exports.BYTES=32,sn=k.exports.KEYBYTES_MIN=16,hn=k.exports.KEYBYTES_MAX=64,qo=k.exports.KEYBYTES=32,In=k.exports.SALTBYTES=16,cn=k.exports.PERSONALBYTES=16;Le.ready(function(e){e||(k.exports.WASM_LOADED=!0,k.exports=Le)})});var Cn=S((Zo,nt)=>{(function(e){"use strict";let r=Ht();var t=h(function(i,A){this.hi=i|0,this.lo=A|0},"u64"),n=h(function(i){var A,o=new Float64Array(16);if(i)for(A=0;A<i.length;A++)o[A]=i[A];return o},"gf"),s=h(function(){throw new Error("no PRNG")},"randombytes"),f=new Uint8Array(16),u=new Uint8Array(32);u[0]=9;var _=n(),w=n([1]),x=n([56129,1]),Q=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Y=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),$=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),pe=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ee(i,A){return i<<A|i>>>32-A}h(ee,"L32");function Ie(i,A){var o=i[A+3]&255;return o=o<<8|i[A+2]&255,o=o<<8|i[A+1]&255,o<<8|i[A+0]&255}h(Ie,"ld32");function rr(i,A){var o=i[A]<<24|i[A+1]<<16|i[A+2]<<8|i[A+3],a=i[A+4]<<24|i[A+5]<<16|i[A+6]<<8|i[A+7];return new t(o,a)}h(rr,"dl64");function ft(i,A,o){var a;for(a=0;a<4;a++)i[A+a]=o&255,o>>>=8}h(ft,"st32");function nr(i,A,o){i[A]=o.hi>>24&255,i[A+1]=o.hi>>16&255,i[A+2]=o.hi>>8&255,i[A+3]=o.hi&255,i[A+4]=o.lo>>24&255,i[A+5]=o.lo>>16&255,i[A+6]=o.lo>>8&255,i[A+7]=o.lo&255}h(nr,"ts64");function gt(i,A,o,a,I){var c,C=0;for(c=0;c<I;c++)C|=i[A+c]^o[a+c];return(1&C-1>>>8)-1}h(gt,"vn");function ir(i,A,o,a){return gt(i,A,o,a,16)}h(ir,"crypto_verify_16");function ut(i,A,o,a){return gt(i,A,o,a,32)}h(ut,"crypto_verify_32");function or(i,A,o,a,I){var c=new Uint32Array(16),C=new Uint32Array(16),y=new Uint32Array(16),g=new Uint32Array(4),l,d,b;for(l=0;l<4;l++)C[5*l]=Ie(a,4*l),C[1+l]=Ie(o,4*l),C[6+l]=Ie(A,4*l),C[11+l]=Ie(o,16+4*l);for(l=0;l<16;l++)y[l]=C[l];for(l=0;l<20;l++){for(d=0;d<4;d++){for(b=0;b<4;b++)g[b]=C[(5*d+4*b)%16];for(g[1]^=ee(g[0]+g[3]|0,7),g[2]^=ee(g[1]+g[0]|0,9),g[3]^=ee(g[2]+g[1]|0,13),g[0]^=ee(g[3]+g[2]|0,18),b=0;b<4;b++)c[4*d+(d+b)%4]=g[b]}for(b=0;b<16;b++)C[b]=c[b]}if(I){for(l=0;l<16;l++)C[l]=C[l]+y[l]|0;for(l=0;l<4;l++)C[5*l]=C[5*l]-Ie(a,4*l)|0,C[6+l]=C[6+l]-Ie(A,4*l)|0;for(l=0;l<4;l++)ft(i,4*l,C[5*l]),ft(i,16+4*l,C[6+l])}else for(l=0;l<16;l++)ft(i,4*l,C[l]+y[l]|0)}h(or,"core");function Ar(i,A,o,a){return or(i,A,o,a,!1),0}h(Ar,"crypto_core_salsa20");function Ge(i,A,o,a){return or(i,A,o,a,!0),0}h(Ge,"crypto_core_hsalsa20");var be=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function lt(i,A,o,a,I,c,C){var y=new Uint8Array(16),g=new Uint8Array(64),l,d;if(!I)return 0;for(d=0;d<16;d++)y[d]=0;for(d=0;d<8;d++)y[d]=c[d];for(;I>=64;){for(Ar(g,y,C,be),d=0;d<64;d++)i[A+d]=(o?o[a+d]:0)^g[d];for(l=1,d=8;d<16;d++)l=l+(y[d]&255)|0,y[d]=l&255,l>>>=8;I-=64,A+=64,o&&(a+=64)}if(I>0)for(Ar(g,y,C,be),d=0;d<I;d++)i[A+d]=(o?o[a+d]:0)^g[d];return 0}h(lt,"crypto_stream_salsa20_xor");function ar(i,A,o,a,I){return lt(i,A,null,0,o,a,I)}h(ar,"crypto_stream_salsa20");function sr(i,A,o,a,I){var c=new Uint8Array(32);return Ge(c,a,I,be),ar(i,A,o,a.subarray(16),c)}h(sr,"crypto_stream");function Ct(i,A,o,a,I,c,C){var y=new Uint8Array(32);return Ge(y,c,C,be),lt(i,A,o,a,I,c.subarray(16),y)}h(Ct,"crypto_stream_xor");function yt(i,A){var o,a=0;for(o=0;o<17;o++)a=a+(i[o]+A[o]|0)|0,i[o]=a&255,a>>>=8}h(yt,"add1305");var Ln=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function _t(i,A,o,a,I,c){var C,y,g,l,d=new Uint32Array(17),b=new Uint32Array(17),m=new Uint32Array(17),R=new Uint32Array(17),Ce=new Uint32Array(17);for(g=0;g<17;g++)b[g]=m[g]=0;for(g=0;g<16;g++)b[g]=c[g];for(b[3]&=15,b[4]&=252,b[7]&=15,b[8]&=252,b[11]&=15,b[12]&=252,b[15]&=15;I>0;){for(g=0;g<17;g++)R[g]=0;for(g=0;g<16&&g<I;++g)R[g]=o[a+g];for(R[g]=1,a+=g,I-=g,yt(m,R),y=0;y<17;y++)for(d[y]=0,g=0;g<17;g++)d[y]=d[y]+m[g]*(g<=y?b[y-g]:320*b[y+17-g]|0)|0|0;for(y=0;y<17;y++)m[y]=d[y];for(l=0,g=0;g<16;g++)l=l+m[g]|0,m[g]=l&255,l>>>=8;for(l=l+m[16]|0,m[16]=l&3,l=5*(l>>>2)|0,g=0;g<16;g++)l=l+m[g]|0,m[g]=l&255,l>>>=8;l=l+m[16]|0,m[16]=l}for(g=0;g<17;g++)Ce[g]=m[g];for(yt(m,Ln),C=-(m[16]>>>7)|0,g=0;g<17;g++)m[g]^=C&(Ce[g]^m[g]);for(g=0;g<16;g++)R[g]=c[g+16];for(R[16]=0,yt(m,R),g=0;g<16;g++)i[A+g]=m[g];return 0}h(_t,"crypto_onetimeauth");function hr(i,A,o,a,I,c){var C=new Uint8Array(16);return _t(C,0,o,a,I,c),ir(i,A,C,0)}h(hr,"crypto_onetimeauth_verify");function dt(i,A,o,a,I){var c;if(o<32)return-1;for(Ct(i,0,A,0,o,a,I),_t(i,16,i,32,o-32,i),c=0;c<16;c++)i[c]=0;return 0}h(dt,"crypto_secretbox");function wt(i,A,o,a,I){var c,C=new Uint8Array(32);if(o<32||(sr(C,0,32,a,I),hr(A,16,A,32,o-32,C)!==0))return-1;for(Ct(i,0,A,0,o,a,I),c=0;c<32;c++)i[c]=0;return 0}h(wt,"crypto_secretbox_open");function X(i,A){var o;for(o=0;o<16;o++)i[o]=A[o]|0}h(X,"set25519");function Qe(i){var A,o;for(o=0;o<16;o++)i[o]+=65536,A=Math.floor(i[o]/65536),i[(o+1)*(o<15?1:0)]+=A-1+37*(A-1)*(o===15?1:0),i[o]-=A*65536}h(Qe,"car25519");function ce(i,A,o){for(var a,I=~(o-1),c=0;c<16;c++)a=I&(i[c]^A[c]),i[c]^=a,A[c]^=a}h(ce,"sel25519");function fe(i,A){var o,a,I,c=n(),C=n();for(o=0;o<16;o++)C[o]=A[o];for(Qe(C),Qe(C),Qe(C),a=0;a<2;a++){for(c[0]=C[0]-65517,o=1;o<15;o++)c[o]=C[o]-65535-(c[o-1]>>16&1),c[o-1]&=65535;c[15]=C[15]-32767-(c[14]>>16&1),I=c[15]>>16&1,c[14]&=65535,ce(C,c,1-I)}for(o=0;o<16;o++)i[2*o]=C[o]&255,i[2*o+1]=C[o]>>8}h(fe,"pack25519");function Ir(i,A){var o=new Uint8Array(32),a=new Uint8Array(32);return fe(o,i),fe(a,A),ut(o,0,a,0)}h(Ir,"neq25519");function cr(i){var A=new Uint8Array(32);return fe(A,i),A[0]&1}h(cr,"par25519");function Et(i,A){var o;for(o=0;o<16;o++)i[o]=A[2*o]+(A[2*o+1]<<8);i[15]&=32767}h(Et,"unpack25519");function O(i,A,o){var a;for(a=0;a<16;a++)i[a]=A[a]+o[a]|0}h(O,"A");function G(i,A,o){var a;for(a=0;a<16;a++)i[a]=A[a]-o[a]|0}h(G,"Z");function p(i,A,o){var a,I,c=new Float64Array(31);for(a=0;a<31;a++)c[a]=0;for(a=0;a<16;a++)for(I=0;I<16;I++)c[a+I]+=A[a]*o[I];for(a=0;a<15;a++)c[a]+=38*c[a+16];for(a=0;a<16;a++)i[a]=c[a];Qe(i),Qe(i)}h(p,"M");function H(i,A){p(i,A,A)}h(H,"S");function fr(i,A){var o=n(),a;for(a=0;a<16;a++)o[a]=A[a];for(a=253;a>=0;a--)H(o,o),a!==2&&a!==4&&p(o,o,A);for(a=0;a<16;a++)i[a]=o[a]}h(fr,"inv25519");function gr(i,A){var o=n(),a;for(a=0;a<16;a++)o[a]=A[a];for(a=250;a>=0;a--)H(o,o),a!==1&&p(o,o,A);for(a=0;a<16;a++)i[a]=o[a]}h(gr,"pow2523");function Re(i,A,o){var a=new Uint8Array(32),I=new Float64Array(80),c,C,y=n(),g=n(),l=n(),d=n(),b=n(),m=n();for(C=0;C<31;C++)a[C]=A[C];for(a[31]=A[31]&127|64,a[0]&=248,Et(I,o),C=0;C<16;C++)g[C]=I[C],d[C]=y[C]=l[C]=0;for(y[0]=d[0]=1,C=254;C>=0;--C)c=a[C>>>3]>>>(C&7)&1,ce(y,g,c),ce(l,d,c),O(b,y,l),G(y,y,l),O(l,g,d),G(g,g,d),H(d,b),H(m,y),p(y,l,y),p(l,g,b),O(b,y,l),G(y,y,l),H(g,y),G(l,d,m),p(y,l,x),O(y,y,d),p(l,l,y),p(y,d,m),p(d,g,I),H(g,b),ce(y,g,c),ce(l,d,c);for(C=0;C<16;C++)I[C+16]=y[C],I[C+32]=l[C],I[C+48]=g[C],I[C+64]=d[C];var R=I.subarray(32),Ce=I.subarray(16);return fr(R,R),p(Ce,Ce,R),fe(i,Ce),0}h(Re,"crypto_scalarmult");function Ne(i,A){return Re(i,A,u)}h(Ne,"crypto_scalarmult_base");function ur(i,A){return s(A,32),Ne(i,A)}h(ur,"crypto_box_keypair");function Te(i,A,o){var a=new Uint8Array(32);return Re(a,o,A),Ge(i,f,a,be)}h(Te,"crypto_box_beforenm");var lr=dt,Mn=wt;function Hn(i,A,o,a,I,c){var C=new Uint8Array(32);return Te(C,I,c),lr(i,A,o,a,C)}h(Hn,"crypto_box");function Pn(i,A,o,a,I,c){var C=new Uint8Array(32);return Te(C,I,c),Mn(i,A,o,a,C)}h(Pn,"crypto_box_open");function me(){var i=0,A=0,o=0,a=0,I=65535,c,C,y;for(y=0;y<arguments.length;y++)c=arguments[y].lo,C=arguments[y].hi,i+=c&I,A+=c>>>16,o+=C&I,a+=C>>>16;return A+=i>>>16,o+=A>>>16,a+=o>>>16,new t(o&I|a<<16,i&I|A<<16)}h(me,"add64");function Cr(i,A){return new t(i.hi>>>A,i.lo>>>A|i.hi<<32-A)}h(Cr,"shr64");function je(){var i=0,A=0,o;for(o=0;o<arguments.length;o++)i^=arguments[o].lo,A^=arguments[o].hi;return new t(A,i)}h(je,"xor64");function j(i,A){var o,a,I=32-A;return A<32?(o=i.hi>>>A|i.lo<<I,a=i.lo>>>A|i.hi<<I):A<64&&(o=i.lo>>>A|i.hi<<I,a=i.hi>>>A|i.lo<<I),new t(o,a)}h(j,"R");function Vn(i,A,o){var a=i.hi&A.hi^~i.hi&o.hi,I=i.lo&A.lo^~i.lo&o.lo;return new t(a,I)}h(Vn,"Ch");function On(i,A,o){var a=i.hi&A.hi^i.hi&o.hi^A.hi&o.hi,I=i.lo&A.lo^i.lo&o.lo^A.lo&o.lo;return new t(a,I)}h(On,"Maj");function Gn(i){return je(j(i,28),j(i,34),j(i,39))}h(Gn,"Sigma0");function Rn(i){return je(j(i,14),j(i,18),j(i,41))}h(Rn,"Sigma1");function Nn(i){return je(j(i,1),j(i,8),Cr(i,7))}h(Nn,"sigma0");function Tn(i){return je(j(i,19),j(i,61),Cr(i,6))}h(Tn,"sigma1");var jn=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function yr(i,A,o){var a=[],I=[],c=[],C=[],y,g,l;for(g=0;g<8;g++)a[g]=c[g]=rr(i,8*g);for(var d=0;o>=128;){for(g=0;g<16;g++)C[g]=rr(A,8*g+d);for(g=0;g<80;g++){for(l=0;l<8;l++)I[l]=c[l];for(y=me(c[7],Rn(c[4]),Vn(c[4],c[5],c[6]),jn[g],C[g%16]),I[7]=me(y,Gn(c[0]),On(c[0],c[1],c[2])),I[3]=me(I[3],y),l=0;l<8;l++)c[(l+1)%8]=I[l];if(g%16===15)for(l=0;l<16;l++)C[l]=me(C[l],C[(l+9)%16],Nn(C[(l+1)%16]),Tn(C[(l+14)%16]))}for(g=0;g<8;g++)c[g]=me(c[g],a[g]),a[g]=c[g];d+=128,o-=128}for(g=0;g<8;g++)nr(i,8*g,a[g]);return o}h(yr,"crypto_hashblocks");let ge=h((i,A)=>r(A).update(i).digest(),"crypto_hash_blake2b");var Jn=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function _r(i,A,o){var a=new Uint8Array(64),I=new Uint8Array(256),c,C=o;for(c=0;c<64;c++)a[c]=Jn[c];for(yr(a,A,o),o%=128,c=0;c<256;c++)I[c]=0;for(c=0;c<o;c++)I[c]=A[C-o+c];for(I[o]=128,o=256-128*(o<112?1:0),I[o-9]=0,nr(I,o-8,new t(C/536870912|0,C<<3)),yr(a,I,o),c=0;c<64;c++)i[c]=a[c];return 0}h(_r,"crypto_hash");function Je(i,A){var o=n(),a=n(),I=n(),c=n(),C=n(),y=n(),g=n(),l=n(),d=n();G(o,i[1],i[0]),G(d,A[1],A[0]),p(o,o,d),O(a,i[0],i[1]),O(d,A[0],A[1]),p(a,a,d),p(I,i[3],A[3]),p(I,I,D),p(c,i[2],A[2]),O(c,c,c),G(C,a,o),G(y,c,I),O(g,c,I),O(l,a,o),p(i[0],C,y),p(i[1],l,g),p(i[2],g,y),p(i[3],C,l)}h(Je,"add");function dr(i,A,o){var a;for(a=0;a<4;a++)ce(i[a],A[a],o)}h(dr,"cswap");function Xe(i,A){var o=n(),a=n(),I=n();fr(I,A[2]),p(o,A[0],I),p(a,A[1],I),fe(i,a),i[31]^=cr(o)<<7}h(Xe,"pack");function xt(i,A,o){var a,I;for(X(i[0],_),X(i[1],w),X(i[2],w),X(i[3],_),I=255;I>=0;--I)a=o[I/8|0]>>(I&7)&1,dr(i,A,a),Je(A,i),Je(i,i),dr(i,A,a)}h(xt,"scalarmult");function De(i,A){var o=[n(),n(),n(),n()];X(o[0],Y),X(o[1],$),X(o[2],w),p(o[3],Y,$),xt(i,o,A)}h(De,"scalarbase");function Bt(i,A,o){var a=new Uint8Array(64),I=[n(),n(),n(),n()],c;o||s(A,32);a=ge(A,64),a[0]&=248,a[31]&=127,a[31]|=64,De(I,a),Xe(i,I);return 0}h(Bt,"crypto_sign_keypair");var qe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function pt(i,A){var o,a,I,c;for(a=63;a>=32;--a){for(o=0,I=a-32,c=a-12;I<c;++I)A[I]+=o-16*A[a]*qe[I-(a-32)],o=Math.floor((A[I]+128)/256),A[I]-=o*256;A[I]+=o,A[a]=0}for(o=0,I=0;I<32;I++)A[I]+=o-(A[31]>>4)*qe[I],o=A[I]>>8,A[I]&=255;for(I=0;I<32;I++)A[I]-=o*qe[I];for(a=0;a<32;a++)A[a+1]+=A[a]>>8,i[a]=A[a]&255}h(pt,"modL");function bt(i){var A=new Float64Array(64),o;for(o=0;o<64;o++)A[o]=i[o];for(o=0;o<64;o++)i[o]=0;pt(i,A)}h(bt,"reduce");function wr(i,A,o,a){var I=new Uint8Array(64),c=new Uint8Array(64),C=new Uint8Array(64),y,g,l=new Float64Array(64),d=[n(),n(),n(),n()];let b=pr(a);I=ge(a,64),I[0]&=248,I[31]&=127,I[31]|=64;var m=o+64;for(y=0;y<o;y++)i[64+y]=A[y];for(y=0;y<32;y++)i[32+y]=I[32+y];for(C=ge(i.subarray(32),64),bt(C),De(d,C),Xe(i,d),y=32;y<64;y++)i[y]=b[y-32];for(c=ge(i,64),bt(c),y=0;y<64;y++)l[y]=0;for(y=0;y<32;y++)l[y]=C[y];for(y=0;y<32;y++)for(g=0;g<32;g++)l[y+g]+=c[y]*I[g];return pt(i.subarray(32),l),m}h(wr,"crypto_sign");function Xn(i,A){var o=n(),a=n(),I=n(),c=n(),C=n(),y=n(),g=n();return X(i[2],w),Et(i[1],A),H(I,i[1]),p(c,I,Q),G(I,I,i[2]),O(c,i[2],c),H(C,c),H(y,C),p(g,y,C),p(o,g,I),p(o,o,c),gr(o,o),p(o,o,I),p(o,o,c),p(o,o,c),p(i[0],o,c),H(a,i[0]),p(a,a,c),Ir(a,I)&&p(i[0],i[0],pe),H(a,i[0]),p(a,a,c),Ir(a,I)?-1:(cr(i[0])===A[31]>>7&&G(i[0],_,i[0]),p(i[3],i[0],i[1]),0)}h(Xn,"unpackneg");function Qt(i,A,o,a){var I,c=new Uint8Array(32),C=new Uint8Array(64),y=[n(),n(),n(),n()],g=[n(),n(),n(),n()];if(o<64||Xn(g,a))return-1;for(I=0;I<o;I++)i[I]=A[I];for(I=0;I<32;I++)i[I+32]=a[I];if(C=ge(i,64),bt(C),xt(y,g,C),De(g,A.subarray(32)),Je(y,g),Xe(c,y),o-=64,ut(A,0,c,0)){for(I=0;I<o;I++)i[I]=0;return-1}for(I=0;I<o;I++)i[I]=A[I+64];return o}h(Qt,"crypto_sign_open");var mt=32,ze=24,Se=32,ue=16,Ue=32,We=32,ve=32,Fe=32,Dt=32,Er=ze,qn=Se,zn=ue,q=64,oe=32,le=32,St=32,Ut=64;e.lowlevel={crypto_core_hsalsa20:Ge,crypto_stream_xor:Ct,crypto_stream:sr,crypto_stream_salsa20_xor:lt,crypto_stream_salsa20:ar,crypto_onetimeauth:_t,crypto_onetimeauth_verify:hr,crypto_verify_16:ir,crypto_verify_32:ut,crypto_secretbox:dt,crypto_secretbox_open:wt,crypto_scalarmult:Re,crypto_scalarmult_base:Ne,crypto_box_beforenm:Te,crypto_box_afternm:lr,crypto_box:Hn,crypto_box_open:Pn,crypto_box_keypair:ur,crypto_hash:_r,crypto_sign:wr,crypto_sign_keypair:Bt,crypto_sign_open:Qt,crypto_secretbox_KEYBYTES:mt,crypto_secretbox_NONCEBYTES:ze,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:Ue,crypto_scalarmult_SCALARBYTES:We,crypto_box_PUBLICKEYBYTES:ve,crypto_box_SECRETKEYBYTES:Fe,crypto_box_BEFORENMBYTES:Dt,crypto_box_NONCEBYTES:Er,crypto_box_ZEROBYTES:qn,crypto_box_BOXZEROBYTES:zn,crypto_sign_BYTES:q,crypto_sign_PUBLICKEYBYTES:oe,crypto_sign_SECRETKEYBYTES:le,crypto_sign_SEEDBYTES:St,crypto_hash_BYTES:Ut,gf:n,D:Q,L:qe,pack25519:fe,unpack25519:Et,M:p,A:O,S:H,Z:G,pow2523:gr,add:Je,set25519:X,modL:pt,scalarmult:xt,scalarbase:De};function xr(i,A){if(i.length!==mt)throw new Error("bad key size");if(A.length!==ze)throw new Error("bad nonce size")}h(xr,"checkLengths");function Wn(i,A){if(i.length!==ve)throw new Error("bad public key size");if(A.length!==Fe)throw new Error("bad secret key size")}h(Wn,"checkBoxLengths");function L(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}h(L,"checkArrayTypes");function Br(i){for(var A=0;A<i.length;A++)i[A]=0}h(Br,"cleanup"),e.randomBytes=function(i){var A=new Uint8Array(i);return s(A,i),A},e.secretbox=function(i,A,o){L(i,A,o),xr(o,A);for(var a=new Uint8Array(Se+i.length),I=new Uint8Array(a.length),c=0;c<i.length;c++)a[c+Se]=i[c];return dt(I,a,a.length,A,o),I.subarray(ue)},e.secretbox.open=function(i,A,o){L(i,A,o),xr(o,A);for(var a=new Uint8Array(ue+i.length),I=new Uint8Array(a.length),c=0;c<i.length;c++)a[c+ue]=i[c];return a.length<32||wt(I,a,a.length,A,o)!==0?null:I.subarray(Se)},e.secretbox.keyLength=mt,e.secretbox.nonceLength=ze,e.secretbox.overheadLength=ue,e.scalarMult=function(i,A){if(L(i,A),i.length!==We)throw new Error("bad n size");if(A.length!==Ue)throw new Error("bad p size");var o=new Uint8Array(Ue);return Re(o,i,A),o},e.scalarMult.base=function(i){if(L(i),i.length!==We)throw new Error("bad n size");var A=new Uint8Array(Ue);return Ne(A,i),A},e.scalarMult.scalarLength=We,e.scalarMult.groupElementLength=Ue,e.box=function(i,A,o,a){var I=e.box.before(o,a);return e.secretbox(i,A,I)},e.box.before=function(i,A){L(i,A),Wn(i,A);var o=new Uint8Array(Dt);return Te(o,i,A),o},e.box.after=e.secretbox,e.box.open=function(i,A,o,a){var I=e.box.before(o,a);return e.secretbox.open(i,A,I)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var i=new Uint8Array(ve),A=new Uint8Array(Fe);return ur(i,A),{publicKey:i,secretKey:A}},e.box.keyPair.fromSecretKey=function(i){if(L(i),i.length!==Fe)throw new Error("bad secret key size");var A=new Uint8Array(ve);return Ne(A,i),{publicKey:A,secretKey:new Uint8Array(i)}},e.box.publicKeyLength=ve,e.box.secretKeyLength=Fe,e.box.sharedKeyLength=Dt,e.box.nonceLength=Er,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(i,A){if(L(i,A),A.length!==le)throw new Error("bad secret key size");var o=new Uint8Array(q+i.length);return wr(o,i,i.length,A),o},e.sign.open=function(i,A){if(L(i,A),A.length!==oe)throw new Error("bad public key size");var o=new Uint8Array(i.length),a=Qt(o,i,i.length,A);if(a<0)return null;for(var I=new Uint8Array(a),c=0;c<I.length;c++)I[c]=o[c];return I},e.sign.detached=function(i,A){for(var o=e.sign(i,A),a=new Uint8Array(q),I=0;I<a.length;I++)a[I]=o[I];return a},e.sign.detached.verify=function(i,A,o){if(L(i,A,o),A.length!==q)throw new Error("bad signature size");if(o.length!==oe)throw new Error("bad public key size");var a=new Uint8Array(q+i.length),I=new Uint8Array(q+i.length),c;for(c=0;c<q;c++)a[c]=A[c];for(c=0;c<i.length;c++)a[c+q]=i[c];return Qt(I,a,a.length,o)>=0};function pr(i){let A=new Uint8Array(64),o=[n(),n(),n(),n()],a,I=new Uint8Array(32);return A=ge(i,64),A[0]&=248,A[31]&=127,A[31]|=64,De(o,A),Xe(I,o),I}h(pr,"derivePublicFromSecret"),e.sign.keyPair=function(){var i=new Uint8Array(oe),A=new Uint8Array(le);return Bt(i,A),{publicKey:i,secretKey:A}},e.sign.keyPair.fromSecretKey=function(i){if(L(i),i.length!==le)throw new Error("bad secret key size");var A=new Uint8Array(oe);return A=pr(i),{publicKey:A,secretKey:new Uint8Array(i)}},e.sign.keyPair.fromSeed=function(i){if(L(i),i.length!==St)throw new Error("bad seed size");for(var A=new Uint8Array(oe),o=new Uint8Array(le),a=0;a<32;a++)o[a]=i[a];return Bt(A,o,!0),{publicKey:A,secretKey:o}},e.sign.publicKeyLength=oe,e.sign.secretKeyLength=le,e.sign.seedLength=St,e.sign.signatureLength=q,e.hash=function(i){L(i);var A=new Uint8Array(Ut);return _r(A,i,i.length),A},e.hash.hashLength=Ut,e.verify=function(i,A){return L(i,A),i.length===0||A.length===0||i.length!==A.length?!1:gt(i,0,A,0,i.length)===0},e.setPRNG=function(i){s=i},function(){var i=typeof self<"u"?self.crypto||self.msCrypto:null;if(i&&i.getRandomValues){var A=65536;e.setPRNG(function(o,a){var I,c=new Uint8Array(a);for(I=0;I<a;I+=A)i.getRandomValues(c.subarray(I,I+Math.min(a-I,A)));for(I=0;I<a;I++)o[I]=c[I];Br(c)})}else typeof br<"u"&&i&&i.randomBytes&&e.setPRNG(function(o,a){var I,c=i.randomBytes(a);for(I=0;I<a;I++)o[I]=c[I];Br(c)})}()})(typeof nt<"u"&&nt.exports?nt.exports:self.nacl=self.nacl||{})});var Nt=S(E=>{"use strict";var oo=E&&E.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:h(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ao=E&&E.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ao=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&oo(r,e,t);return Ao(r,e),r},so=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});E.verify_signed_message=E.sign_message=E.construct_message_block_and_hash=E.verify_block_hash=E.sign_block_hash=E.hash_block=E.get_public_key_from_address=E.get_address_from_public_key=E.get_public_key_from_private_key=E.get_private_key_from_seed=E.raw_to_whole=E.whole_to_raw=E.NANO_DECIMALS=E.utf8_to_uint8array=E.base32_to_uint8array=E.uint8array_to_base32=E.int_to_uint8array=E.hex_to_uint8array=E.uint8array_to_hex=void 0;var Vt=ao(Cn()),ot=so(Ht()),ho="0000000000000000000000000000000000000000000000000000000000000006",Ot="62616E616E6F6D73672D",Me=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];function He(e){let r="";for(let t=0;t<e.length;t++)r+=Me[Math.floor(e[t]/16)]+Me[e[t]%16];return r}h(He,"uint8array_to_hex");E.uint8array_to_hex=He;function U(e){e=e.toUpperCase();let r=new Uint8Array(Math.ceil(e.length/2));for(let t=0;t<Math.floor(e.length/2);t++)r[t]=Me.indexOf(e[t*2])*16+Me.indexOf(e[t*2+1]);return e.length/2%1!==0&&(r[r.length-1]=Me.indexOf(e[e.length-1])*16),r}h(U,"hex_to_uint8array");E.hex_to_uint8array=U;function yn(e,r){let t=new Uint8Array(r);for(let n=1;n<=r;n++)if(n===1)t[r-n]=e%16**2;else{let s=e;for(let f=n-1;f>0;f--)s-=t[r-f]*16**(2*(f-1));t[r-n]=Math.floor(s/16**(2*(n-1)))}return t}h(yn,"int_to_uint8array");E.int_to_uint8array=yn;var _n=["1","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","m","n","o","p","q","r","s","t","u","w","x","y","z"];function Pt(e){let r="";for(let t=0;t<Math.floor(e.length*8/5);t++){let n=t*5,s=Math.floor(n/8),f=n%8,u,_=8-f;if(_>=5)u=e[s]>>_-5&31;else{let w=5-_;u=(e[s]<<w&31)+(e[s+1]>>8-w&2**(8-w)-1)}r+=_n[u]}return r}h(Pt,"uint8array_to_base32");E.uint8array_to_base32=Pt;function Io(e,r){let t="",n=e;for(let s=0;s<r;s++)n>=2**(r-1-s)?(t+="1",n-=2**(r-1-s)):t+="0";return t}h(Io,"int_to_binary");function co(e){let r=0;for(let t=0;t<e.length;t++)r+=e[t]==="1"?2**(e.length-1-t):0;return r}h(co,"binary_to_int");function dn(e){let r=e.split("").map(n=>Io(_n.indexOf(n),5)).join(""),t=new Uint8Array(Math.ceil(e.length*5/8));for(let n=0;n<t.length;n++)t[n]=co(r.slice(n*8,n*8+8));return t}h(dn,"base32_to_uint8array");E.base32_to_uint8array=dn;function wn(e){return new TextEncoder().encode(e)}h(wn,"utf8_to_uint8array");E.utf8_to_uint8array=wn;var En=29;E.NANO_DECIMALS=30;function fo(e,r=En){let t;if(e.includes(".")){let n=e.split(".");if(0>r-n[1].length)throw Error(`Too many decimals, cannot exceed ${r}`);t=BigInt(n[0])*BigInt(10)**BigInt(r)+BigInt(n[1])*BigInt(10)**BigInt(r-n[1].length)}else t=BigInt(e)*BigInt(10)**BigInt(r);return t}h(fo,"whole_to_raw");E.whole_to_raw=fo;function go(e,r=En){let t=e.toString(),n;if(t.length>r)n=t.slice(0,-r)+"."+t.slice(-r);else{let f=r-t.length;n="0."+"0".repeat(f>0?f:0)+t}let s=n.length;for(let f=0;f<s;f++){let u=n.slice(-1)===".";if(n.slice(-1)==="0"||u){if(n=n.slice(0,-1),u)break}else break}return n}h(go,"raw_to_whole");E.raw_to_whole=go;function uo(e,r){return(0,ot.default)(32).update(U(e)).update(yn(r,4)).digest("hex").toUpperCase()}h(uo,"get_private_key_from_seed");E.get_private_key_from_seed=uo;function xn(e){return He(Vt.sign.keyPair.fromSecretKey(U(e)).publicKey)}h(xn,"get_public_key_from_private_key");E.get_public_key_from_private_key=xn;function Gt(e,r="ban_"){let t=Pt(U(`0${e}`)),n=Pt((0,ot.default)(5,void 0,void 0,void 0,!0).update(U(e)).digest().reverse());return`ban_${t}${n}`}h(Gt,"get_address_from_public_key");E.get_address_from_public_key=Gt;function it(e){let r=dn(e.split("_")[1].slice(0,52));return r[r.length-1]=r[r.length-1]*16,He(r).slice(1,-1)}h(it,"get_public_key_from_address");E.get_public_key_from_address=it;function Bn(e){let r=BigInt(e.balance).toString(16).toUpperCase();for(;r.length<32;)r="0"+r;return(0,ot.default)(32).update(U(ho)).update(U(it(e.account))).update(U(e.previous)).update(U(it(e.representative))).update(U(r)).update(U(e.link)).digest("hex").toUpperCase()}h(Bn,"hash_block");E.hash_block=Bn;function pn(e,r){return He(Vt.sign.detached(U(r),U(e)))}h(pn,"sign_block_hash");E.sign_block_hash=pn;function bn(e,r,t){return Vt.sign.detached.verify(U(t),U(r),U(e))}h(bn,"verify_block_hash");E.verify_block_hash=bn;function Rt(e,r,t=Ot){let n="0".repeat(64),s={type:"state",account:e,previous:n,representative:Gt(He((0,ot.default)(32).update(U(t)).update(wn(r)).digest())),balance:"0",link:n};return Bn(s)}h(Rt,"construct_message_block_and_hash");E.construct_message_block_and_hash=Rt;function lo(e,r,t=Ot){return pn(e,Rt(Gt(xn(e)),r,t))}h(lo,"sign_message");E.sign_message=lo;function Co(e,r,t,n=Ot){return bn(it(e),t,Rt(e,r,n))}h(Co,"verify_signed_message");E.verify_signed_message=Co});var Qn=S(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.RPCWithBackup=de.RPC=void 0;var At=class{static{h(this,"RPC")}constructor(r,t=!1){this.DECIMALS=void 0,this.debug=!1,this.rpc_url=r,this.use_pending=t}async call(r){this.debug&&console.log(JSON.stringify(r));let t=await fetch(this.rpc_url,{method:"POST",headers:this.headers??{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok&&this.debug&&console.log(await t.text()),!t.ok)throw Error(`Request to RPC node failed with status code ${t.status}`);let n=await t.json();if(n.error)throw Error(`RPC node response: ${n.error}`);return n}async get_block_count(){return await this.call({action:"block_count"})}async get_block_info(r){return await this.call({action:"block_info",hash:r,json_block:!0})}async get_blocks(r){return await this.call({action:"blocks",hashes:r,json_block:!0})}async get_blocks_info(r){return await this.call({action:"blocks_info",hashes:r,json_block:!0})}async get_representatives(){return await this.call({action:"representatives"})}async get_representatives_online(r){return await this.call({action:"representatives_online",weight:r?!0:void 0})}async get_account_history(r,t,n,s,f,u,_){return await this.call({action:"account_history",account:r,count:`${t}`,raw:n?!0:void 0,head:s,offset:f?`${f}`:void 0,reverse:u?!0:void 0,account_filter:_})}async get_account_info(r,t,n,s,f){return await this.call({action:"account_info",account:r,include_confirmed:t?!0:void 0,representative:n?!0:void 0,weight:s?!0:void 0,pending:f?!0:void 0})}async get_account_balance(r){return await this.call({action:"account_balance",account:r})}async get_accounts_balances(r){return await this.call({action:"accounts_balances",accounts:r})}async get_account_representative(r){return await this.call({action:"account_representative",account:r})}async get_accounts_representatives(r){return await this.call({action:"accounts_representatives",account:r})}async get_account_weight(r){return await this.call({action:"account_weight",account:r})}async get_account_receivable(r,t,n,s){return await this.call({action:this.use_pending?"pending":"receivable",account:r,count:t?`${t}`:void 0,threshold:n,source:s?!0:void 0})}async get_delegators(r,t,n,s){return await this.call({action:"delegators",account:r,threshold:t,count:n?`${n}`:void 0,start:s})}async get_delegators_count(r){return await this.call({action:"account_weight",account:r})}async get_telemetry(r,t,n){return await this.call({action:"telemetry",raw:r||void 0,address:t||void 0,port:n?`${n}`:void 0})}async get_version(){return await this.call({action:"version"})}};de.RPC=At;var Tt=class extends At{static{h(this,"RPCWithBackup")}constructor(r,t,n=!1){if(r.length<2)throw Error("Must provide at least two RPC URLs");super(r[0],n),this.rpc_urls=r,this.timeout=t}async call(r){let t=0;for(;;)try{let n=await fetch(this.rpc_urls[t],{method:"POST",headers:this.headers??{"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout)});if(!n.ok)throw Error(`Request to RPC node failed with status code ${n.status}`);let s=await n.json();if(s.error)throw Error(`RPC node response: ${s.error}`);return s}catch(n){if(!this.rpc_urls[++t])throw Error(n instanceof Error?n.toString():"RPC call error")}}};de.RPCWithBackup=Tt});var Dn=S(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0})});var Sn=S(V=>{"use strict";var yo=V&&V.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:h(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),_o=V&&V.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),wo=V&&V.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&yo(r,e,t);return _o(r,e),r};Object.defineProperty(V,"__esModule",{value:!0});V.PrivateKeyAccount=V.Wallet=void 0;var F=wo(Nt()),at=class e{static{h(this,"Wallet")}constructor(r,t,n=0,s){if(this.add_do_work=!0,this.rpc=r,typeof t!="string"||t?.length!==64)throw Error("Seed needs to be 64 character (hex) string");this.seed=t,this.index=n,this.work_function=s}static gen_random_wallet(r){let t=new Uint8Array(32);crypto.getRandomValues(t);let n=F.uint8array_to_hex(t);return new e(r,n)}get private_key(){return F.get_private_key_from_seed(this.seed,this.index)}get public_key(){return F.get_public_key_from_private_key(this.private_key)}get address(){return F.get_address_from_public_key(this.public_key)}async send_process(r,t){return(await this.rpc.call({action:"process",json_block:"true",subtype:t,block:r,do_work:!r.work&&this.add_do_work?!0:void 0})).hash}async send(r,t,n,s,f){let u=F.whole_to_raw(t,this.rpc.DECIMALS),_=f??await this.get_account_info(void 0,!0),w=F.get_public_key_from_address(r);if(s===void 0){if(_.representative===void 0)throw Error("Missing field 'representative' in `cached_account_info`");s=_.representative}let x=BigInt(_.balance),Q=x-u;if(Q<0n)throw Error(`Insufficient funds to send. Cannot send more than balance; ie, Before balance (raw: ${x}) less than send amount (raw: ${u})`);let D={type:"state",account:this.address,previous:_.frontier,representative:s,balance:Q.toString(),link:w,link_as_account:r},Y=F.hash_block(D),$;n&&this.work_function&&($=await this.work_function(_.frontier));let pe=F.sign_block_hash(this.private_key,Y),ee={...D,signature:pe,work:$};return await this.send_process(ee,"send")}async send_all(r,t,n){let s=await this.get_account_info(void 0,!0);return await this.send(r,F.raw_to_whole(BigInt(s.balance),this.rpc.DECIMALS),t,n,s)}async receive(r,t,n){let s=await this.rpc.get_block_info(r),f=0n,u;try{let Y=await this.get_account_info(void 0,!0);u=Y.frontier,n||(n=Y.representative),f=BigInt(Y.balance)}catch{u="0".repeat(64)}n===void 0&&(n=this.address);let _={type:"state",account:this.address,previous:u,representative:n,balance:(f+BigInt(s.amount)).toString(),link:r},w=F.hash_block(_),x;t&&this.work_function&&(x=await this.work_function(u==="0".repeat(64)?this.public_key:u));let Q=F.sign_block_hash(this.private_key,w),D={..._,signature:Q,work:x};return await this.send_process(D,"receive")}async receive_all(r=20,t,n){let s=(await this.get_account_receivable(r,t,!0)).blocks,f,u,_;try{let x=await this.get_account_info(void 0,!0);f=x.frontier,u=x.representative,_=BigInt(x.balance)}catch{f="0".repeat(64),_=BigInt(0)}u===void 0&&(u=this.address);let w=[];for(let x of Object.keys(s)){let Q=(_+BigInt(s[x].amount)).toString(),D={type:"state",account:this.address,previous:f,representative:u,balance:Q,link:x},Y=F.hash_block(D),$;n&&this.work_function&&($=await this.work_function(f==="0".repeat(64)?this.public_key:f));let pe=F.sign_block_hash(this.private_key,Y),ee={...D,signature:pe,work:$};await this.send_process(ee,"receive"),w.push(Y),f=Y,_=BigInt(Q)}return w}async change_representative(r,t){let n=await this.get_account_info(),s={type:"state",account:this.address,previous:n.frontier,representative:r,balance:n.balance,link:"0".repeat(64)},f=F.hash_block(s),u;t&&this.work_function&&(u=await this.work_function(n.frontier));let _=F.sign_block_hash(this.private_key,f),w={...s,signature:_,work:u};return await this.send_process(w,"change")}async change_rep(r,t){return await this.change_representative(r,t)}async get_account_info(r,t,n,s){return await this.rpc.get_account_info(this.address,r,t,n,s)}async get_account_receivable(r,t,n){return await this.rpc.get_account_receivable(this.address,r,t,n)}sign_message(r){return F.sign_message(this.private_key,r)}};V.Wallet=at;var jt=class extends at{static{h(this,"PrivateKeyAccount")}constructor(r,t,n){if(typeof t!="string"||t?.length!==64)throw Error("Priv key needs to be 64 character (hex) string");super(r,t,0,n),this._private_key=t}get private_key(){return this._private_key}};V.PrivateKeyAccount=jt});var Un=S(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.RPCWorkProvider=void 0;var Jt=class{static{h(this,"RPCWorkProvider")}constructor(r){this.extra_payload={},this.rpc=r}async request_work(r){return(await this.rpc.call({action:"work_generate",hash:r,...this.extra_payload})).work}};st.RPCWorkProvider=Jt});var we=S(N=>{"use strict";var Eo=N&&N.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:h(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Pe=N&&N.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Eo(r,e,t)};Object.defineProperty(N,"__esModule",{value:!0});Pe(Nt(),N);Pe(Qn(),N);Pe(Dn(),N);Pe(Sn(),N);Pe(Un(),N)});var qt={};vt(qt,{BSF_HEX_CHARS:()=>It,HEX_CHARS:()=>Xt,LOG:()=>Ve,address_to_cid_v0:()=>Qo,base58_to_hex:()=>kn,bigint_to_uint8array:()=>Kn,bns_seed_format_to_hex:()=>Bo,cid_v0_to_address:()=>bo,decode_domain_name:()=>Ee,encode_domain_name:()=>ht,hex_to_base58:()=>Fn,hex_to_bns_seed_format:()=>xo,is_bns_seed_format:()=>po});var Z=Ke(we());var Ve=!0;function ht(e){if(e.includes(".")||e.includes("\0")||e.includes('"'))throw new Error(`Domain name cannot include '.' or '"' or '\\u0000'`);let r=(0,Z.uint8array_to_hex)(new TextEncoder().encode(e));if(r.length>64)throw new Error("Cannot be more than 32 bytes");return r.length<64&&(r="0".repeat(64-r.length)+r),r}h(ht,"encode_domain_name");function Ee(e){return new TextDecoder().decode((0,Z.hex_to_uint8array)(e)).replace(/\u0000/g,"")}h(Ee,"decode_domain_name");var vn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Fn(e){let r=BigInt(`0x${e}`),t="";for(;t+=vn[Number(r%BigInt(58))],r=r/BigInt(58),r!==0n;);return t.split("").reverse().join("")}h(Fn,"hex_to_base58");var Xt="0123456789ABCDEF",It="ghijklmnopqrstuv";function xo(e){return e.split("").map(r=>It[Xt.indexOf(r.toUpperCase())]).join("")}h(xo,"hex_to_bns_seed_format");function Bo(e){return e.split("").map(r=>Xt[It.indexOf(r.toLowerCase())]).join("")}h(Bo,"bns_seed_format_to_hex");function po(e){return e.split("").every(r=>It.includes(r.toLowerCase()))}h(po,"is_bns_seed_format");function Kn(e,r){let t=new Uint8Array(r),n=e;for(let s=1;s<=r;s++)t[r-s]=Number(n%256n),n/=256n;return t}h(Kn,"bigint_to_uint8array");function kn(e){let r=0n;for(let t=0;t<e.length;t++)r+=BigInt(vn.indexOf(e[e.length-t-1]))*BigInt(58)**BigInt(t);return(0,Z.uint8array_to_hex)(Kn(r,34))}h(kn,"base58_to_hex");function bo(e){return(0,Z.get_address_from_public_key)(kn(e).slice(4))}h(bo,"cid_v0_to_address");function Qo(e){return Fn("1220"+(0,Z.get_public_key_from_address)(e))}h(Qo,"address_to_cid_v0");var Oe=Ke(we()),se=(0,Oe.whole_to_raw)("0.0012070301"),ne=(0,Oe.whole_to_raw)("0.00120703011"),zt="451"+"1".repeat(61),he=(0,Oe.get_address_from_public_key)(zt);var Zt={};vt(Zt,{DomainAccount:()=>Be,Resolver:()=>Wt,TLDAccount:()=>xe});var T=Ke(we());var ct=class{static{h(this,"Account")}constructor(r,t){this.rpc=r,this.address=t}async get_open_and_frontier(){let r=await this.rpc.get_account_info(this.address,!0);return[r.open_block,r.confirmation_height_frontier??r.frontier]}async get_history_from_open(r,t){return await this.rpc.get_account_history(this.address,t,!0,r,void 0,!0)}},xe=class extends ct{static{h(this,"TLDAccount")}constructor(r,t){super(r,t),this.all_issued=[]}async get_specific(r,t=500){let[n,s]=await this.get_open_and_frontier(),f=n;for(;;){let{history:u}=await this.get_history_from_open(f,t);for(let _ of u){let w=BigInt(_.amount??0);if(_.subtype==="send"&&w>=se&&w<=ne){let x=Ee((0,T.get_public_key_from_address)(_.representative));if(r===x)return{tld:this.address,name:r,history:[{type:"transfer",block:_,to:(0,T.get_address_from_public_key)(_.link)}]}}if(_.representative===he&&_.subtype==="change"||_.hash===s)return}f=u[u.length-1].hash}}async get_all_issued(r=500){let[t,n]=await this.get_open_and_frontier(),s=t,f={};for(;;){let{history:u}=await this.get_history_from_open(s,r);for(let _ of u){let w=BigInt(_.amount??0);if(_.subtype==="send"&&w>=se&&w<=ne){let x=Ee((0,T.get_public_key_from_address)(_.representative));f[x]?Ve&&console.log(`"${x}" already issued but TLD tried to issue again. Invalid.`):f[x]={tld:this.address,name:x,history:[{type:"transfer",block:_,to:(0,T.get_address_from_public_key)(_.link)}]}}if(_.representative===he&&_.subtype==="change"||_.hash===n)return this.all_issued=Object.values(f),this.all_issued}s=u[u.length-1].hash}}},Be=class extends ct{static{h(this,"DomainAccount")}constructor(r,t,n,s){super(r,t),this.domain=n,this.max_rpc_calls=s,this.rpc_calls=0}async crawl(r=500){if(!this.domain)throw new Error("`domain` property for DomainAccount not initialised before calling `crawl()`");let t,n;try{[t,n]=await this.get_open_and_frontier(),this.rpc_calls+=1}catch{return Ve&&console.log("Not yet received"),this.domain}if(this.rpc_calls===this.max_rpc_calls)throw new Error("Max RPC calls reached");let s=t;for(;;){let{history:f}=await this.get_history_from_open(s,r);if(this.rpc_calls+=1,this.rpc_calls===this.max_rpc_calls)throw new Error("Max RPC calls reached");for(let u of f){let _=BigInt(u.amount??0);if(u.height==="1"){if(u.link!==this.domain.history[this.domain.history.length-1]?.block.hash)return Ve&&console.log("Domain burned"),this.domain.burned=!0,this.domain;this.domain.history.push({type:"receive",block:u})}else if(u.subtype==="send"&&_>=se&&_<=ne){let w=Ee((0,T.get_public_key_from_address)(u.representative));if(this.domain.name===w)return this.domain.resolved_address=void 0,this.domain.metadata_hash=void 0,this.domain.history.push({type:"transfer",block:u,to:(0,T.get_address_from_public_key)(u.link)}),this.domain}else{if(u.subtype==="change"&&u.representative===he)return this.domain.history.push({type:"freeze",block:u}),this.domain;u.subtype==="change"?(this.domain.metadata_hash=(0,T.get_public_key_from_address)(u.representative),this.domain.history.push({type:"metadata",block:u,metadata_hash:this.domain.metadata_hash})):u.subtype==="send"&&_===4224n&&(this.domain.resolved_address=(0,T.get_address_from_public_key)(u.link),this.domain.history.push({type:"resolver",block:u,resolved_address:this.domain.resolved_address}))}if(u.hash===n)return this.domain}s=f[f.length-1].hash}}},Wt=class{static{h(this,"Resolver")}constructor(r,t,n){this.rpc=r,this.tld_mapping=t,this.max_rpc_calls_after_tld=n}async resolve(r,t,n=500){if(r=r.toLowerCase(),!this.tld_mapping[t])throw new Error("No TLD Account found for that TLD");let f=await new xe(this.rpc,this.tld_mapping[t]).get_specific(r,n);if(!f)return f;let u=this.max_rpc_calls_after_tld;for(;;){let _=f.history[f.history.length-1].to,w=new Be(this.rpc,_,f,u),x=f.history.length;if(f=await w.crawl(n),!f)throw new Error(`Failed to crawl domain while resolving: ${_}`);if(u!==void 0&&(u-=w.rpc_calls),f.history[f.history.length-1].type!=="transfer"||f.burned||x===f.history.length)break}return f}async resolve_backwards_ish(r,t,n=500){let s=(await this.rpc.get_account_info(r,!0)).open_block,f=(await this.rpc.get_block_info(s)).contents.link,u=await this.rpc.get_block_info(f),_=Ee((0,T.get_public_key_from_address)(u.contents.representative)),w=await this.resolve(_,t,n);if(w?.history.slice().reverse().find(Q=>Q.type==="transfer")?.to===r)return w}};var tr={};vt(tr,{DomainAccountManager:()=>er,TLDAccountManager:()=>$t});var ie=Ke(we());var $t=class extends xe{static{h(this,"TLDAccountManager")}constructor(r,t){super(r,t.address),this.wallet=t}async issue_domain_name(r,t){if(r=r.toLowerCase(),this.all_issued.some(s=>s.name===r))throw new Error("Cannot issue a domain name that is already issued");return await this.wallet.send(t,"0.00120703011",void 0,(0,ie.get_address_from_public_key)(ht(r)))}async freeze(){await this.wallet.change_representative(he)}async receive(){await this.wallet.receive_all()}},er=class extends Be{static{h(this,"DomainAccountManager")}constructor(r,t,n){super(r,t.address),this.wallet=t,this.domain=n}async receive_domain(r,t,n){let{history:s}=await this.rpc.get_account_history(this.address,1);if(s.length>1&&!n)throw new Error("`allow_burning` must be true in order to receive this domain");let f=await this.rpc.get_block_info(r),u=BigInt(f.amount);if(u<se||u>ne)throw new Error("`receive_hash` is not a Domain Transfer block");await this.wallet.receive(r,void 0,t)}async transfer_domain(r,t){let n=(await this.wallet.get_account_info()).balance,s=(0,ie.raw_to_whole)(ne);return ne>BigInt(n)&&se<=BigInt(n)&&(s=(0,ie.raw_to_whole)(BigInt(n))),await this.wallet.send(t,s,void 0,(0,ie.get_address_from_public_key)(ht(r)))}async declare_domain_metadata(r){if(r===zt)throw new Error("A metadata hash of all 1s freezes the domain");await this.wallet.change_representative((0,ie.get_address_from_public_key)(r))}async declare_domain_resolve_to(r){await this.wallet.send(r,(0,ie.raw_to_whole)(4224n))}async freeze(){await this.wallet.change_representative(he)}};var Yn={};var mo=Ke(we());window.bns={...qt,...Zt,...tr,...Yn,banani:mo};})();
