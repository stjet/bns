(()=>{var Rn=Object.create;var Je=Object.defineProperty;var jn=Object.getOwnPropertyDescriptor;var Jn=Object.getOwnPropertyNames;var Xn=Object.getPrototypeOf,qn=Object.prototype.hasOwnProperty;var I=(e,r)=>Je(e,"name",{value:r,configurable:!0}),_r=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var U=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Dt=(e,r)=>{for(var t in r)Je(e,t,{get:r[t],enumerable:!0})},Wn=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Jn(r))!qn.call(e,s)&&s!==t&&Je(e,s,{get:()=>r[s],enumerable:!(n=jn(r,s))||n.enumerable});return e};var Xe=(e,r,t)=>(t=e!=null?Rn(Xn(e)):{},Wn(r||!e||!e.__esModule?Je(t,"default",{value:e,enumerable:!0}):t,e));var mt=U((wo,wr)=>{wr.exports=dr;var qe=class extends Error{static{I(this,"AssertionError")}};qe.prototype.name="AssertionError";function dr(e,r){if(!e){var t=new qe(r);throw Error.captureStackTrace&&Error.captureStackTrace(t,dr),t}}I(dr,"assert")});var Br=U((xo,xr)=>{function Er(e){return e.length}I(Er,"byteLength");function zn(e){let r=e.byteLength,t="";for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return t}I(zn,"toString");function Zn(e,r,t=0,n=Er(r)){let s=Math.min(n,e.byteLength-t);for(let g=0;g<s;g++)e[t+g]=r.charCodeAt(g);return s}I(Zn,"write");xr.exports={byteLength:Er,toString:zn,write:Zn}});var pr=U((Qo,br)=>{var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe=new Uint8Array(256);for(let e=0;e<ue.length;e++)oe[ue.charCodeAt(e)]=e;oe[45]=62;oe[95]=63;function Qr(e){let r=e.length;return e.charCodeAt(r-1)===61&&r--,r>1&&e.charCodeAt(r-1)===61&&r--,r*3>>>2}I(Qr,"byteLength");function $n(e){let r=e.byteLength,t="";for(let n=0;n<r;n+=3)t+=ue[e[n]>>2]+ue[(e[n]&3)<<4|e[n+1]>>4]+ue[(e[n+1]&15)<<2|e[n+2]>>6]+ue[e[n+2]&63];return r%3===2?t=t.substring(0,t.length-1)+"=":r%3===1&&(t=t.substring(0,t.length-2)+"=="),t}I($n,"toString");function ei(e,r,t=0,n=Qr(r)){let s=Math.min(n,e.byteLength-t);for(let g=0,l=0;l<s;g+=4){let _=oe[r.charCodeAt(g)],w=oe[r.charCodeAt(g+1)],x=oe[r.charCodeAt(g+2)],Q=oe[r.charCodeAt(g+3)];e[l++]=_<<2|w>>4,e[l++]=(w&15)<<4|x>>2,e[l++]=(x&3)<<6|Q&63}return s}I(ei,"write");br.exports={byteLength:Qr,toString:$n,write:ei}});var Ur=U((po,Sr)=>{function mr(e){return e.length>>>1}I(mr,"byteLength");function ti(e){let r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,r);let t="",n=0;for(let s=r-r%4;n<s;n+=4)t+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<r;n++)t+=e.getUint8(n).toString(16).padStart(2,"0");return t}I(ti,"toString");function ri(e,r,t=0,n=mr(r)){let s=Math.min(n,e.byteLength-t);for(let g=0;g<s;g++){let l=Dr(r.charCodeAt(g*2)),_=Dr(r.charCodeAt(g*2+1));if(l===void 0||_===void 0)return e.subarray(0,g);e[t+g]=l<<4|_}return s}I(ri,"write");Sr.exports={byteLength:mr,toString:ti,write:ri};function Dr(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-65+10;if(e>=97&&e<=102)return e-97+10}I(Dr,"hexValue")});var Fr=U((mo,vr)=>{function St(e){let r=0;for(let t=0,n=e.length;t<n;t++){let s=e.charCodeAt(t);if(s>=55296&&s<=56319&&t+1<n){let g=e.charCodeAt(t+1);if(g>=56320&&g<=57343){r+=4,t++;continue}}s<=127?r+=1:s<=2047?r+=2:r+=3}return r}I(St,"byteLength");var Ut;if(typeof TextDecoder<"u"){let e=new TextDecoder;Ut=I(function(t){return e.decode(t)},"toString")}else Ut=I(function(r){let t=r.byteLength,n="",s=0;for(;s<t;){let g=r[s];if(g<=127){n+=String.fromCharCode(g),s++;continue}let l=0,_=0;if(g<=223?(l=1,_=g&31):g<=239?(l=2,_=g&15):g<=244&&(l=3,_=g&7),t-s-l>0){let w=0;for(;w<l;)g=r[s+w+1],_=_<<6|g&63,w+=1}else _=65533,l=t-s;n+=String.fromCodePoint(_),s+=l+1}return n},"toString");var vt;if(typeof TextEncoder<"u"){let e=new TextEncoder;vt=I(function(t,n,s=0,g=St(n)){let l=Math.min(g,t.byteLength-s);return e.encodeInto(n,t.subarray(s,s+l)),l},"write")}else vt=I(function(r,t,n=0,s=St(t)){let g=Math.min(s,r.byteLength-n);r=r.subarray(n,n+g);let l=0,_=0;for(;l<t.length;){let w=t.codePointAt(l);if(w<=127){r[_++]=w,l++;continue}let x=0,Q=0;for(w<=2047?(x=6,Q=192):w<=65535?(x=12,Q=224):w<=2097151&&(x=18,Q=240),r[_++]=Q|w>>x,x-=6;x>=0;)r[_++]=128|w>>x&63,x-=6;l+=w>=65536?2:1}return g},"write");vr.exports={byteLength:St,toString:Ut,write:vt}});var kr=U((Uo,Yr)=>{function Kr(e){return e.length*2}I(Kr,"byteLength");function ni(e){let r=e.byteLength,t="";for(let n=0;n<r-1;n+=2)t+=String.fromCharCode(e[n]+e[n+1]*256);return t}I(ni,"toString");function ii(e,r,t=0,n=Kr(r)){let s=Math.min(n,e.byteLength-t),g=s;for(let l=0;l<r.length&&!((g-=2)<0);++l){let _=r.charCodeAt(l),w=_>>8,x=_%256;e[t+l*2]=x,e[t+l*2+1]=w}return s}I(ii,"write");Yr.exports={byteLength:Kr,toString:ni,write:ii}});var Vr=U((Kt,Pr)=>{var oi=Br(),Ai=pr(),ai=Ur(),si=Fr(),Ii=kr(),We=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function Se(e){switch(e){case"ascii":return oi;case"base64":return Ai;case"hex":return ai;case"utf8":case"utf-8":case void 0:return si;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ii;default:throw new Error(`Unknown encoding: ${e}`)}}I(Se,"codecFor");function Lr(e){return e instanceof Uint8Array}I(Lr,"isBuffer");function hi(e){try{return Se(e),!0}catch{return!1}}I(hi,"isEncoding");function ci(e,r,t){let n=new Uint8Array(e);return r!==void 0&&Kt.fill(n,r,0,n.byteLength,t),n}I(ci,"alloc");function gi(e){return new Uint8Array(e)}I(gi,"allocUnsafe");function fi(e){return new Uint8Array(e)}I(fi,"allocUnsafeSlow");function ui(e,r){return Se(r).byteLength(e)}I(ui,"byteLength");function Ci(e,r){if(e===r)return 0;let t=Math.min(e.byteLength,r.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let n=0;for(let s=t-t%4;n<s;n+=4){let g=e.getUint32(n,We),l=r.getUint32(n,We);if(g!==l)break}for(;n<t;n++){let s=e.getUint8(n),g=r.getUint8(n);if(s<g)return-1;if(s>g)return 1}return e.byteLength>r.byteLength?1:e.byteLength<r.byteLength?-1:0}I(Ci,"compare");function li(e,r){r===void 0&&(r=e.reduce((s,g)=>s+g.byteLength,0));let t=new Uint8Array(r),n=0;for(let s of e){if(n+s.byteLength>t.byteLength){let g=s.subarray(0,t.byteLength-n);return t.set(g,n),t}t.set(s,n),n+=s.byteLength}return t}I(li,"concat");function yi(e,r,t=0,n=0,s=e.byteLength){if(s>0&&s<n||s===n||e.byteLength===0||r.byteLength===0)return 0;if(t<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(s<0)throw new RangeError("sourceEnd is out of range");t>=r.byteLength&&(t=r.byteLength),s>e.byteLength&&(s=e.byteLength),r.byteLength-t<s-n&&(s=r.length-t+n);let g=s-n;return e===r?r.copyWithin(t,n,s):r.set(e.subarray(n,s),t),g}I(yi,"copy");function _i(e,r){if(e===r)return!0;if(e.byteLength!==r.byteLength)return!1;let t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let n=0;for(let s=t-t%4;n<s;n+=4)if(e.getUint32(n,We)!==r.getUint32(n,We))return!1;for(;n<t;n++)if(e.getUint8(n)!==r.getUint8(n))return!1;return!0}I(_i,"equals");function di(e,r,t,n,s){if(typeof r=="string"?typeof t=="string"?(s=t,t=0,n=e.byteLength):typeof n=="string"&&(s=n,n=e.byteLength):typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=+r),t<0||e.byteLength<t||e.byteLength<n)throw new RangeError("Out of range index");if(t===void 0&&(t=0),n===void 0&&(n=e.byteLength),n<=t)return e;if(r||(r=0),typeof r=="number")for(let g=t;g<n;++g)e[g]=r;else{r=Lr(r)?r:Ft(r,s);let g=r.byteLength;for(let l=0;l<n-t;++l)e[l+t]=r[l%g]}return e}I(di,"fill");function Ft(e,r,t){return typeof e=="string"?wi(e,r):Array.isArray(e)?Ei(e):ArrayBuffer.isView(e)?xi(e):Bi(e,r,t)}I(Ft,"from");function wi(e,r){let t=Se(r),n=new Uint8Array(t.byteLength(e));return t.write(n,e,0,n.byteLength),n}I(wi,"fromString");function Ei(e){let r=new Uint8Array(e.length);return r.set(e),r}I(Ei,"fromArray");function xi(e){let r=new Uint8Array(e.byteLength);return r.set(e),r}I(xi,"fromBuffer");function Bi(e,r,t){return new Uint8Array(e,r,t)}I(Bi,"fromArrayBuffer");function Qi(e,r,t,n){return Hr(e,r,t,n)!==-1}I(Qi,"includes");function Mr(e,r,t,n,s){if(e.byteLength===0)return-1;if(typeof t=="string"?(n=t,t=0):t===void 0?t=s?0:e.length-1:t<0&&(t+=e.byteLength),t>=e.byteLength){if(s)return-1;t=e.byteLength-1}else if(t<0)if(s)t=0;else return-1;if(typeof r=="string")r=Ft(r,n);else if(typeof r=="number")return r=r&255,s?e.indexOf(r,t):e.lastIndexOf(r,t);if(r.byteLength===0)return-1;if(s){let g=-1;for(let l=t;l<e.byteLength;l++)if(e[l]===r[g===-1?0:l-g]){if(g===-1&&(g=l),l-g+1===r.byteLength)return g}else g!==-1&&(l-=l-g),g=-1}else{t+r.byteLength>e.byteLength&&(t=e.byteLength-r.byteLength);for(let g=t;g>=0;g--){let l=!0;for(let _=0;_<r.byteLength;_++)if(e[g+_]!==r[_]){l=!1;break}if(l)return g}}return-1}I(Mr,"bidirectionalIndexOf");function Hr(e,r,t,n){return Mr(e,r,t,n,!0)}I(Hr,"indexOf");function bi(e,r,t,n){return Mr(e,r,t,n,!1)}I(bi,"lastIndexOf");function Ae(e,r,t){let n=e[r];e[r]=e[t],e[t]=n}I(Ae,"swap");function pi(e){let r=e.byteLength;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)Ae(e,t,t+1);return e}I(pi,"swap16");function Di(e){let r=e.byteLength;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)Ae(e,t,t+3),Ae(e,t+1,t+2);return e}I(Di,"swap32");function mi(e){let r=e.byteLength;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)Ae(e,t,t+7),Ae(e,t+1,t+6),Ae(e,t+2,t+5),Ae(e,t+3,t+4);return e}I(mi,"swap64");function Si(e){return e}I(Si,"toBuffer");function Ui(e,r,t=0,n=e.byteLength){let s=e.byteLength;return t>=s||n<=t?"":(t<0&&(t=0),n>s&&(n=s),(t!==0||n<s)&&(e=e.subarray(t,n)),Se(r).toString(e))}I(Ui,"toString");function vi(e,r,t,n,s){return t===void 0?s="utf8":n===void 0&&typeof t=="string"?(s=t,t=void 0):s===void 0&&typeof n=="string"&&(s=n,n=void 0),Se(s).write(e,r,t,n)}I(vi,"write");function Fi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(t,r,!0),t+8}I(Fi,"writeDoubleLE");function Ki(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(t,r,!0),t+4}I(Ki,"writeFloatLE");function Yi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(t,r,!0),t+4}I(Yi,"writeUInt32LE");function ki(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(t,r,!0),t+4}I(ki,"writeInt32LE");function Li(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(r,!0)}I(Li,"readDoubleLE");function Mi(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(r,!0)}I(Mi,"readFloatLE");function Hi(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(r,!0)}I(Hi,"readUInt32LE");function Pi(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(r,!0)}I(Pi,"readInt32LE");Pr.exports=Kt={isBuffer:Lr,isEncoding:hi,alloc:ci,allocUnsafe:gi,allocUnsafeSlow:fi,byteLength:ui,compare:Ci,concat:li,copy:yi,equals:_i,fill:di,from:Ft,includes:Qi,indexOf:Hr,lastIndexOf:bi,swap16:pi,swap32:Di,swap64:mi,toBuffer:Si,toString:Ui,write:vi,writeDoubleLE:Fi,writeFloatLE:Ki,writeUInt32LE:Yi,writeInt32LE:ki,readDoubleLE:Li,readFloatLE:Mi,readUInt32LE:Hi,readInt32LE:Pi}});var Gr=U((Ko,Or)=>{var Vi=I((e,r)=>I(function(){return r||(0,e[Object.keys(e)[0]])((r={exports:{}}).exports,r),r.exports},"__require"),"__commonJS"),Oi=(()=>{for(var e=new Uint8Array(128),r=0;r<64;r++)e[r<26?r+65:r<52?r+71:r<62?r-4:r*4-205]=r;return t=>{for(var n=t.length,s=new Uint8Array((n-(t[n-1]=="=")-(t[n-2]=="="))*3/4|0),g=0,l=0;g<n;){var _=e[t.charCodeAt(g++)],w=e[t.charCodeAt(g++)],x=e[t.charCodeAt(g++)],Q=e[t.charCodeAt(g++)];s[l++]=_<<2|w>>4,s[l++]=w<<4|x>>2,s[l++]=x<<6|Q}return s}})(),Gi=Vi({"wasm-binary:./blake2b.wat"(e,r){r.exports=Oi("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")}}),Ni=Gi(),Ti=WebAssembly.compile(Ni);Or.exports=async e=>(await WebAssembly.instantiate(await Ti,e)).exports});var Wr=U((Mo,X)=>{var H=mt(),Ri=Vr(),Z=null,Nr=typeof WebAssembly<"u"&&Gr()().then(e=>{Z=e}),z=64,ze=[];X.exports=k;var Tr=X.exports.BYTES_MIN=16,Rr=X.exports.BYTES_MAX=64,ko=X.exports.BYTES=32,jr=X.exports.KEYBYTES_MIN=16,Jr=X.exports.KEYBYTES_MAX=64,Lo=X.exports.KEYBYTES=32,Xr=X.exports.SALTBYTES=16,qr=X.exports.PERSONALBYTES=16;function k(e,r,t,n,s){if(!(this instanceof k))return new k(e,r,t,n,s);if(!Z)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),s!==!0&&(H(e>=Tr,"digestLength must be at least "+Tr+", was given "+e),H(e<=Rr,"digestLength must be at most "+Rr+", was given "+e),r!=null&&(H(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),H(r.length>=jr,"key must be at least "+jr+", was given "+r.length),H(r.length<=Jr,"key must be at least "+Jr+", was given "+r.length)),t!=null&&(H(t instanceof Uint8Array,"salt must be Uint8Array or Buffer"),H(t.length===Xr,"salt must be exactly "+Xr+", was given "+t.length)),n!=null&&(H(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),H(n.length===qr,"personal must be exactly "+qr+", was given "+n.length))),ze.length||(ze.push(z),z+=216),this.digestLength=e,this.finalized=!1,this.pointer=ze.pop(),this._memory=new Uint8Array(Z.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=r?r.length:0,this._memory[2]=1,this._memory[3]=1,t&&this._memory.set(t,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),Z.blake2b_init(this.pointer,this.digestLength),r&&(this.update(r),this._memory.fill(0,z,z+r.length),this._memory[this.pointer+200]=128)}I(k,"Blake2b");k.prototype._realloc=function(e){Z.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(Z.memory.buffer)};k.prototype.update=function(e){return H(this.finalized===!1,"Hash instance finalized"),H(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),z+e.length>this._memory.length&&this._realloc(z+e.length),this._memory.set(e,z),Z.blake2b_update(this.pointer,z,z+e.length),this};k.prototype.digest=function(e){if(H(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,ze.push(this.pointer),Z.blake2b_final(this.pointer),!e||e==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof e=="string")return Ri.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);H(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var r=0;r<this.digestLength;r++)e[r]=this._memory[this.pointer+128+r];return e};k.prototype.final=k.prototype.digest;k.WASM=Z;k.SUPPORTED=typeof WebAssembly<"u";k.ready=function(e){return e||(e=ji),Nr?Nr.then(()=>e(),e):e(new Error("WebAssembly not supported"))};k.prototype.ready=k.ready;k.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};k.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};function ji(){}I(ji,"noop")});var Yt=U((Oo,L)=>{var O=mt(),ve=Wr();function Ze(e,r,t){var n=e[r]+e[t],s=e[r+1]+e[t+1];n>=4294967296&&s++,e[r]=n,e[r+1]=s}I(Ze,"ADD64AA");function zr(e,r,t,n){var s=e[r]+t;t<0&&(s+=4294967296);var g=e[r+1]+n;s>=4294967296&&g++,e[r]=s,e[r+1]=g}I(zr,"ADD64AC");function on(e,r){return e[r]^e[r+1]<<8^e[r+2]<<16^e[r+3]<<24}I(on,"B2B_GET32");function re(e,r,t,n,s,g){var l=Ue[s],_=Ue[s+1],w=Ue[g],x=Ue[g+1];Ze(B,e,r),zr(B,e,l,_);var Q=B[n]^B[e],m=B[n+1]^B[e+1];B[n]=m,B[n+1]=Q,Ze(B,t,n),Q=B[r]^B[t],m=B[r+1]^B[t+1],B[r]=Q>>>24^m<<8,B[r+1]=m>>>24^Q<<8,Ze(B,e,r),zr(B,e,w,x),Q=B[n]^B[e],m=B[n+1]^B[e+1],B[n]=Q>>>16^m<<16,B[n+1]=m>>>16^Q<<16,Ze(B,t,n),Q=B[r]^B[t],m=B[r+1]^B[t+1],B[r]=m>>>31^Q<<1,B[r+1]=Q>>>31^m<<1}I(re,"B2B_G");var An=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ji=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],F=new Uint8Array(Ji.map(function(e){return e*2})),B=new Uint32Array(32),Ue=new Uint32Array(32);function an(e,r){var t=0;for(t=0;t<16;t++)B[t]=e.h[t],B[t+16]=An[t];for(B[24]=B[24]^e.t,B[25]=B[25]^e.t/4294967296,r&&(B[28]=~B[28],B[29]=~B[29]),t=0;t<32;t++)Ue[t]=on(e.b,4*t);for(t=0;t<12;t++)re(0,8,16,24,F[t*16+0],F[t*16+1]),re(2,10,18,26,F[t*16+2],F[t*16+3]),re(4,12,20,28,F[t*16+4],F[t*16+5]),re(6,14,22,30,F[t*16+6],F[t*16+7]),re(0,10,20,30,F[t*16+8],F[t*16+9]),re(2,12,22,24,F[t*16+10],F[t*16+11]),re(4,14,16,26,F[t*16+12],F[t*16+13]),re(6,8,18,28,F[t*16+14],F[t*16+15]);for(t=0;t<16;t++)e.h[t]=e.h[t]^B[t]^B[t+16]}I(an,"blake2bCompress");var ne=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Ce(e,r,t,n){ne.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,ne[0]=e,r&&(ne[1]=r.length),ne[2]=1,ne[3]=1,t&&ne.set(t,32),n&&ne.set(n,48);for(var s=0;s<16;s++)this.h[s]=An[s]^on(ne,s*4);r&&(sn(this,r),this.c=128)}I(Ce,"Blake2b");Ce.prototype.update=function(e){return O(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),sn(this,e),this};Ce.prototype.digest=function(e){var r=!e||e==="binary"||e==="hex"?new Uint8Array(this.outlen):e;return O(r instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),O(r.length>=this.outlen,"out must have at least outlen bytes of space"),Xi(this,r),e==="hex"?qi(r):r};Ce.prototype.final=Ce.prototype.digest;Ce.ready=function(e){ve.ready(function(){e()})};function sn(e,r){for(var t=0;t<r.length;t++)e.c===128&&(e.t+=e.c,an(e,!1),e.c=0),e.b[e.c++]=r[t]}I(sn,"blake2bUpdate");function Xi(e,r){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;an(e,!0);for(var t=0;t<e.outlen;t++)r[t]=e.h[t>>2]>>8*(t&3);return r}I(Xi,"blake2bFinal");function qi(e){for(var r="",t=0;t<e.length;t++)r+=Wi(e[t]);return r}I(qi,"hexSlice");function Wi(e){return e<16?"0"+e.toString(16):e.toString(16)}I(Wi,"toHex");var zi=Ce;L.exports=I(function(r,t,n,s,g){return g!==!0&&(O(r>=Zr,"outlen must be at least "+Zr+", was given "+r),O(r<=$r,"outlen must be at most "+$r+", was given "+r),t!=null&&(O(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),O(t.length>=en,"key must be at least "+en+", was given "+t.length),O(t.length<=tn,"key must be at most "+tn+", was given "+t.length)),n!=null&&(O(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),O(n.length===rn,"salt must be exactly "+rn+", was given "+n.length)),s!=null&&(O(s instanceof Uint8Array,"personal must be Uint8Array or Buffer"),O(s.length===nn,"personal must be exactly "+nn+", was given "+s.length))),new zi(r,t,n,s)},"createHash");L.exports.ready=function(e){ve.ready(function(){e()})};L.exports.WASM_SUPPORTED=ve.SUPPORTED;L.exports.WASM_LOADED=!1;var Zr=L.exports.BYTES_MIN=16,$r=L.exports.BYTES_MAX=64,Po=L.exports.BYTES=32,en=L.exports.KEYBYTES_MIN=16,tn=L.exports.KEYBYTES_MAX=64,Vo=L.exports.KEYBYTES=32,rn=L.exports.SALTBYTES=16,nn=L.exports.PERSONALBYTES=16;ve.ready(function(e){e||(L.exports.WASM_LOADED=!0,L.exports=ve)})});var In=U((No,$e)=>{(function(e){"use strict";let r=Yt();var t=I(function(i,A){this.hi=i|0,this.lo=A|0},"u64"),n=I(function(i){var A,o=new Float64Array(16);if(i)for(A=0;A<i.length;A++)o[A]=i[A];return o},"gf"),s=I(function(){throw new Error("no PRNG")},"randombytes"),g=new Uint8Array(16),l=new Uint8Array(32);l[0]=9;var _=n(),w=n([1]),x=n([56129,1]),Q=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Y=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ee=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),we=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function te(i,A){return i<<A|i>>>32-A}I(te,"L32");function ae(i,A){var o=i[A+3]&255;return o=o<<8|i[A+2]&255,o=o<<8|i[A+1]&255,o<<8|i[A+0]&255}I(ae,"ld32");function qt(i,A){var o=i[A]<<24|i[A+1]<<16|i[A+2]<<8|i[A+3],a=i[A+4]<<24|i[A+5]<<16|i[A+6]<<8|i[A+7];return new t(o,a)}I(qt,"dl64");function st(i,A,o){var a;for(a=0;a<4;a++)i[A+a]=o&255,o>>>=8}I(st,"st32");function Wt(i,A,o){i[A]=o.hi>>24&255,i[A+1]=o.hi>>16&255,i[A+2]=o.hi>>8&255,i[A+3]=o.hi&255,i[A+4]=o.lo>>24&255,i[A+5]=o.lo>>16&255,i[A+6]=o.lo>>8&255,i[A+7]=o.lo&255}I(Wt,"ts64");function It(i,A,o,a,h){var c,C=0;for(c=0;c<h;c++)C|=i[A+c]^o[a+c];return(1&C-1>>>8)-1}I(It,"vn");function zt(i,A,o,a){return It(i,A,o,a,16)}I(zt,"crypto_verify_16");function ht(i,A,o,a){return It(i,A,o,a,32)}I(ht,"crypto_verify_32");function Zt(i,A,o,a,h){var c=new Uint32Array(16),C=new Uint32Array(16),y=new Uint32Array(16),f=new Uint32Array(4),u,d,p;for(u=0;u<4;u++)C[5*u]=ae(a,4*u),C[1+u]=ae(o,4*u),C[6+u]=ae(A,4*u),C[11+u]=ae(o,16+4*u);for(u=0;u<16;u++)y[u]=C[u];for(u=0;u<20;u++){for(d=0;d<4;d++){for(p=0;p<4;p++)f[p]=C[(5*d+4*p)%16];for(f[1]^=te(f[0]+f[3]|0,7),f[2]^=te(f[1]+f[0]|0,9),f[3]^=te(f[2]+f[1]|0,13),f[0]^=te(f[3]+f[2]|0,18),p=0;p<4;p++)c[4*d+(d+p)%4]=f[p]}for(p=0;p<16;p++)C[p]=c[p]}if(h){for(u=0;u<16;u++)C[u]=C[u]+y[u]|0;for(u=0;u<4;u++)C[5*u]=C[5*u]-ae(a,4*u)|0,C[6+u]=C[6+u]-ae(A,4*u)|0;for(u=0;u<4;u++)st(i,4*u,C[5*u]),st(i,16+4*u,C[6+u])}else for(u=0;u<16;u++)st(i,4*u,C[u]+y[u]|0)}I(Zt,"core");function $t(i,A,o,a){return Zt(i,A,o,a,!1),0}I($t,"crypto_core_salsa20");function Me(i,A,o,a){return Zt(i,A,o,a,!0),0}I(Me,"crypto_core_hsalsa20");var Ee=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ct(i,A,o,a,h,c,C){var y=new Uint8Array(16),f=new Uint8Array(64),u,d;if(!h)return 0;for(d=0;d<16;d++)y[d]=0;for(d=0;d<8;d++)y[d]=c[d];for(;h>=64;){for($t(f,y,C,Ee),d=0;d<64;d++)i[A+d]=(o?o[a+d]:0)^f[d];for(u=1,d=8;d<16;d++)u=u+(y[d]&255)|0,y[d]=u&255,u>>>=8;h-=64,A+=64,o&&(a+=64)}if(h>0)for($t(f,y,C,Ee),d=0;d<h;d++)i[A+d]=(o?o[a+d]:0)^f[d];return 0}I(ct,"crypto_stream_salsa20_xor");function er(i,A,o,a,h){return ct(i,A,null,0,o,a,h)}I(er,"crypto_stream_salsa20");function tr(i,A,o,a,h){var c=new Uint8Array(32);return Me(c,a,h,Ee),er(i,A,o,a.subarray(16),c)}I(tr,"crypto_stream");function gt(i,A,o,a,h,c,C){var y=new Uint8Array(32);return Me(y,c,C,Ee),ct(i,A,o,a,h,c.subarray(16),y)}I(gt,"crypto_stream_xor");function ft(i,A){var o,a=0;for(o=0;o<17;o++)a=a+(i[o]+A[o]|0)|0,i[o]=a&255,a>>>=8}I(ft,"add1305");var Sn=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function ut(i,A,o,a,h,c){var C,y,f,u,d=new Uint32Array(17),p=new Uint32Array(17),D=new Uint32Array(17),R=new Uint32Array(17),fe=new Uint32Array(17);for(f=0;f<17;f++)p[f]=D[f]=0;for(f=0;f<16;f++)p[f]=c[f];for(p[3]&=15,p[4]&=252,p[7]&=15,p[8]&=252,p[11]&=15,p[12]&=252,p[15]&=15;h>0;){for(f=0;f<17;f++)R[f]=0;for(f=0;f<16&&f<h;++f)R[f]=o[a+f];for(R[f]=1,a+=f,h-=f,ft(D,R),y=0;y<17;y++)for(d[y]=0,f=0;f<17;f++)d[y]=d[y]+D[f]*(f<=y?p[y-f]:320*p[y+17-f]|0)|0|0;for(y=0;y<17;y++)D[y]=d[y];for(u=0,f=0;f<16;f++)u=u+D[f]|0,D[f]=u&255,u>>>=8;for(u=u+D[16]|0,D[16]=u&3,u=5*(u>>>2)|0,f=0;f<16;f++)u=u+D[f]|0,D[f]=u&255,u>>>=8;u=u+D[16]|0,D[16]=u}for(f=0;f<17;f++)fe[f]=D[f];for(ft(D,Sn),C=-(D[16]>>>7)|0,f=0;f<17;f++)D[f]^=C&(fe[f]^D[f]);for(f=0;f<16;f++)R[f]=c[f+16];for(R[16]=0,ft(D,R),f=0;f<16;f++)i[A+f]=D[f];return 0}I(ut,"crypto_onetimeauth");function rr(i,A,o,a,h,c){var C=new Uint8Array(16);return ut(C,0,o,a,h,c),zt(i,A,C,0)}I(rr,"crypto_onetimeauth_verify");function Ct(i,A,o,a,h){var c;if(o<32)return-1;for(gt(i,0,A,0,o,a,h),ut(i,16,i,32,o-32,i),c=0;c<16;c++)i[c]=0;return 0}I(Ct,"crypto_secretbox");function lt(i,A,o,a,h){var c,C=new Uint8Array(32);if(o<32||(tr(C,0,32,a,h),rr(A,16,A,32,o-32,C)!==0))return-1;for(gt(i,0,A,0,o,a,h),c=0;c<32;c++)i[c]=0;return 0}I(lt,"crypto_secretbox_open");function q(i,A){var o;for(o=0;o<16;o++)i[o]=A[o]|0}I(q,"set25519");function xe(i){var A,o;for(o=0;o<16;o++)i[o]+=65536,A=Math.floor(i[o]/65536),i[(o+1)*(o<15?1:0)]+=A-1+37*(A-1)*(o===15?1:0),i[o]-=A*65536}I(xe,"car25519");function se(i,A,o){for(var a,h=~(o-1),c=0;c<16;c++)a=h&(i[c]^A[c]),i[c]^=a,A[c]^=a}I(se,"sel25519");function Ie(i,A){var o,a,h,c=n(),C=n();for(o=0;o<16;o++)C[o]=A[o];for(xe(C),xe(C),xe(C),a=0;a<2;a++){for(c[0]=C[0]-65517,o=1;o<15;o++)c[o]=C[o]-65535-(c[o-1]>>16&1),c[o-1]&=65535;c[15]=C[15]-32767-(c[14]>>16&1),h=c[15]>>16&1,c[14]&=65535,se(C,c,1-h)}for(o=0;o<16;o++)i[2*o]=C[o]&255,i[2*o+1]=C[o]>>8}I(Ie,"pack25519");function nr(i,A){var o=new Uint8Array(32),a=new Uint8Array(32);return Ie(o,i),Ie(a,A),ht(o,0,a,0)}I(nr,"neq25519");function ir(i){var A=new Uint8Array(32);return Ie(A,i),A[0]&1}I(ir,"par25519");function yt(i,A){var o;for(o=0;o<16;o++)i[o]=A[2*o]+(A[2*o+1]<<8);i[15]&=32767}I(yt,"unpack25519");function N(i,A,o){var a;for(a=0;a<16;a++)i[a]=A[a]+o[a]|0}I(N,"A");function T(i,A,o){var a;for(a=0;a<16;a++)i[a]=A[a]-o[a]|0}I(T,"Z");function b(i,A,o){var a,h,c=new Float64Array(31);for(a=0;a<31;a++)c[a]=0;for(a=0;a<16;a++)for(h=0;h<16;h++)c[a+h]+=A[a]*o[h];for(a=0;a<15;a++)c[a]+=38*c[a+16];for(a=0;a<16;a++)i[a]=c[a];xe(i),xe(i)}I(b,"M");function V(i,A){b(i,A,A)}I(V,"S");function or(i,A){var o=n(),a;for(a=0;a<16;a++)o[a]=A[a];for(a=253;a>=0;a--)V(o,o),a!==2&&a!==4&&b(o,o,A);for(a=0;a<16;a++)i[a]=o[a]}I(or,"inv25519");function Ar(i,A){var o=n(),a;for(a=0;a<16;a++)o[a]=A[a];for(a=250;a>=0;a--)V(o,o),a!==1&&b(o,o,A);for(a=0;a<16;a++)i[a]=o[a]}I(Ar,"pow2523");function He(i,A,o){var a=new Uint8Array(32),h=new Float64Array(80),c,C,y=n(),f=n(),u=n(),d=n(),p=n(),D=n();for(C=0;C<31;C++)a[C]=A[C];for(a[31]=A[31]&127|64,a[0]&=248,yt(h,o),C=0;C<16;C++)f[C]=h[C],d[C]=y[C]=u[C]=0;for(y[0]=d[0]=1,C=254;C>=0;--C)c=a[C>>>3]>>>(C&7)&1,se(y,f,c),se(u,d,c),N(p,y,u),T(y,y,u),N(u,f,d),T(f,f,d),V(d,p),V(D,y),b(y,u,y),b(u,f,p),N(p,y,u),T(y,y,u),V(f,y),T(u,d,D),b(y,u,x),N(y,y,d),b(u,u,y),b(y,d,D),b(d,f,h),V(f,p),se(y,f,c),se(u,d,c);for(C=0;C<16;C++)h[C+16]=y[C],h[C+32]=u[C],h[C+48]=f[C],h[C+64]=d[C];var R=h.subarray(32),fe=h.subarray(16);return or(R,R),b(fe,fe,R),Ie(i,fe),0}I(He,"crypto_scalarmult");function Pe(i,A){return He(i,A,l)}I(Pe,"crypto_scalarmult_base");function ar(i,A){return s(A,32),Pe(i,A)}I(ar,"crypto_box_keypair");function Ve(i,A,o){var a=new Uint8Array(32);return He(a,o,A),Me(i,g,a,Ee)}I(Ve,"crypto_box_beforenm");var sr=Ct,Un=lt;function vn(i,A,o,a,h,c){var C=new Uint8Array(32);return Ve(C,h,c),sr(i,A,o,a,C)}I(vn,"crypto_box");function Fn(i,A,o,a,h,c){var C=new Uint8Array(32);return Ve(C,h,c),Un(i,A,o,a,C)}I(Fn,"crypto_box_open");function Be(){var i=0,A=0,o=0,a=0,h=65535,c,C,y;for(y=0;y<arguments.length;y++)c=arguments[y].lo,C=arguments[y].hi,i+=c&h,A+=c>>>16,o+=C&h,a+=C>>>16;return A+=i>>>16,o+=A>>>16,a+=o>>>16,new t(o&h|a<<16,i&h|A<<16)}I(Be,"add64");function Ir(i,A){return new t(i.hi>>>A,i.lo>>>A|i.hi<<32-A)}I(Ir,"shr64");function Oe(){var i=0,A=0,o;for(o=0;o<arguments.length;o++)i^=arguments[o].lo,A^=arguments[o].hi;return new t(A,i)}I(Oe,"xor64");function J(i,A){var o,a,h=32-A;return A<32?(o=i.hi>>>A|i.lo<<h,a=i.lo>>>A|i.hi<<h):A<64&&(o=i.lo>>>A|i.hi<<h,a=i.hi>>>A|i.lo<<h),new t(o,a)}I(J,"R");function Kn(i,A,o){var a=i.hi&A.hi^~i.hi&o.hi,h=i.lo&A.lo^~i.lo&o.lo;return new t(a,h)}I(Kn,"Ch");function Yn(i,A,o){var a=i.hi&A.hi^i.hi&o.hi^A.hi&o.hi,h=i.lo&A.lo^i.lo&o.lo^A.lo&o.lo;return new t(a,h)}I(Yn,"Maj");function kn(i){return Oe(J(i,28),J(i,34),J(i,39))}I(kn,"Sigma0");function Ln(i){return Oe(J(i,14),J(i,18),J(i,41))}I(Ln,"Sigma1");function Mn(i){return Oe(J(i,1),J(i,8),Ir(i,7))}I(Mn,"sigma0");function Hn(i){return Oe(J(i,19),J(i,61),Ir(i,6))}I(Hn,"sigma1");var Pn=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function hr(i,A,o){var a=[],h=[],c=[],C=[],y,f,u;for(f=0;f<8;f++)a[f]=c[f]=qt(i,8*f);for(var d=0;o>=128;){for(f=0;f<16;f++)C[f]=qt(A,8*f+d);for(f=0;f<80;f++){for(u=0;u<8;u++)h[u]=c[u];for(y=Be(c[7],Ln(c[4]),Kn(c[4],c[5],c[6]),Pn[f],C[f%16]),h[7]=Be(y,kn(c[0]),Yn(c[0],c[1],c[2])),h[3]=Be(h[3],y),u=0;u<8;u++)c[(u+1)%8]=h[u];if(f%16===15)for(u=0;u<16;u++)C[u]=Be(C[u],C[(u+9)%16],Mn(C[(u+1)%16]),Hn(C[(u+14)%16]))}for(f=0;f<8;f++)c[f]=Be(c[f],a[f]),a[f]=c[f];d+=128,o-=128}for(f=0;f<8;f++)Wt(i,8*f,a[f]);return o}I(hr,"crypto_hashblocks");let he=I((i,A)=>r(A).update(i).digest(),"crypto_hash_blake2b");var Vn=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function cr(i,A,o){var a=new Uint8Array(64),h=new Uint8Array(256),c,C=o;for(c=0;c<64;c++)a[c]=Vn[c];for(hr(a,A,o),o%=128,c=0;c<256;c++)h[c]=0;for(c=0;c<o;c++)h[c]=A[C-o+c];for(h[o]=128,o=256-128*(o<112?1:0),h[o-9]=0,Wt(h,o-8,new t(C/536870912|0,C<<3)),hr(a,h,o),c=0;c<64;c++)i[c]=a[c];return 0}I(cr,"crypto_hash");function Ge(i,A){var o=n(),a=n(),h=n(),c=n(),C=n(),y=n(),f=n(),u=n(),d=n();T(o,i[1],i[0]),T(d,A[1],A[0]),b(o,o,d),N(a,i[0],i[1]),N(d,A[0],A[1]),b(a,a,d),b(h,i[3],A[3]),b(h,h,m),b(c,i[2],A[2]),N(c,c,c),T(C,a,o),T(y,c,h),N(f,c,h),N(u,a,o),b(i[0],C,y),b(i[1],u,f),b(i[2],f,y),b(i[3],C,u)}I(Ge,"add");function gr(i,A,o){var a;for(a=0;a<4;a++)se(i[a],A[a],o)}I(gr,"cswap");function Ne(i,A){var o=n(),a=n(),h=n();or(h,A[2]),b(o,A[0],h),b(a,A[1],h),Ie(i,a),i[31]^=ir(o)<<7}I(Ne,"pack");function _t(i,A,o){var a,h;for(q(i[0],_),q(i[1],w),q(i[2],w),q(i[3],_),h=255;h>=0;--h)a=o[h/8|0]>>(h&7)&1,gr(i,A,a),Ge(A,i),Ge(i,i),gr(i,A,a)}I(_t,"scalarmult");function Qe(i,A){var o=[n(),n(),n(),n()];q(o[0],Y),q(o[1],ee),q(o[2],w),b(o[3],Y,ee),_t(i,o,A)}I(Qe,"scalarbase");function dt(i,A,o){var a=new Uint8Array(64),h=[n(),n(),n(),n()],c;o||s(A,32);a=he(A,64),a[0]&=248,a[31]&=127,a[31]|=64,Qe(h,a),Ne(i,h);return 0}I(dt,"crypto_sign_keypair");var Te=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function wt(i,A){var o,a,h,c;for(a=63;a>=32;--a){for(o=0,h=a-32,c=a-12;h<c;++h)A[h]+=o-16*A[a]*Te[h-(a-32)],o=Math.floor((A[h]+128)/256),A[h]-=o*256;A[h]+=o,A[a]=0}for(o=0,h=0;h<32;h++)A[h]+=o-(A[31]>>4)*Te[h],o=A[h]>>8,A[h]&=255;for(h=0;h<32;h++)A[h]-=o*Te[h];for(a=0;a<32;a++)A[a+1]+=A[a]>>8,i[a]=A[a]&255}I(wt,"modL");function Et(i){var A=new Float64Array(64),o;for(o=0;o<64;o++)A[o]=i[o];for(o=0;o<64;o++)i[o]=0;wt(i,A)}I(Et,"reduce");function fr(i,A,o,a){var h=new Uint8Array(64),c=new Uint8Array(64),C=new Uint8Array(64),y,f,u=new Float64Array(64),d=[n(),n(),n(),n()];let p=yr(a);h=he(a,64),h[0]&=248,h[31]&=127,h[31]|=64;var D=o+64;for(y=0;y<o;y++)i[64+y]=A[y];for(y=0;y<32;y++)i[32+y]=h[32+y];for(C=he(i.subarray(32),64),Et(C),Qe(d,C),Ne(i,d),y=32;y<64;y++)i[y]=p[y-32];for(c=he(i,64),Et(c),y=0;y<64;y++)u[y]=0;for(y=0;y<32;y++)u[y]=C[y];for(y=0;y<32;y++)for(f=0;f<32;f++)u[y+f]+=c[y]*h[f];return wt(i.subarray(32),u),D}I(fr,"crypto_sign");function On(i,A){var o=n(),a=n(),h=n(),c=n(),C=n(),y=n(),f=n();return q(i[2],w),yt(i[1],A),V(h,i[1]),b(c,h,Q),T(h,h,i[2]),N(c,i[2],c),V(C,c),V(y,C),b(f,y,C),b(o,f,h),b(o,o,c),Ar(o,o),b(o,o,h),b(o,o,c),b(o,o,c),b(i[0],o,c),V(a,i[0]),b(a,a,c),nr(a,h)&&b(i[0],i[0],we),V(a,i[0]),b(a,a,c),nr(a,h)?-1:(ir(i[0])===A[31]>>7&&T(i[0],_,i[0]),b(i[3],i[0],i[1]),0)}I(On,"unpackneg");function xt(i,A,o,a){var h,c=new Uint8Array(32),C=new Uint8Array(64),y=[n(),n(),n(),n()],f=[n(),n(),n(),n()];if(o<64||On(f,a))return-1;for(h=0;h<o;h++)i[h]=A[h];for(h=0;h<32;h++)i[h+32]=a[h];if(C=he(i,64),Et(C),_t(y,f,C),Qe(f,A.subarray(32)),Ge(y,f),Ne(c,y),o-=64,ht(A,0,c,0)){for(h=0;h<o;h++)i[h]=0;return-1}for(h=0;h<o;h++)i[h]=A[h+64];return o}I(xt,"crypto_sign_open");var Bt=32,Re=24,be=32,ce=16,pe=32,je=32,De=32,me=32,Qt=32,ur=Re,Gn=be,Nn=ce,W=64,ie=32,ge=32,bt=32,pt=64;e.lowlevel={crypto_core_hsalsa20:Me,crypto_stream_xor:gt,crypto_stream:tr,crypto_stream_salsa20_xor:ct,crypto_stream_salsa20:er,crypto_onetimeauth:ut,crypto_onetimeauth_verify:rr,crypto_verify_16:zt,crypto_verify_32:ht,crypto_secretbox:Ct,crypto_secretbox_open:lt,crypto_scalarmult:He,crypto_scalarmult_base:Pe,crypto_box_beforenm:Ve,crypto_box_afternm:sr,crypto_box:vn,crypto_box_open:Fn,crypto_box_keypair:ar,crypto_hash:cr,crypto_sign:fr,crypto_sign_keypair:dt,crypto_sign_open:xt,crypto_secretbox_KEYBYTES:Bt,crypto_secretbox_NONCEBYTES:Re,crypto_secretbox_ZEROBYTES:be,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:pe,crypto_scalarmult_SCALARBYTES:je,crypto_box_PUBLICKEYBYTES:De,crypto_box_SECRETKEYBYTES:me,crypto_box_BEFORENMBYTES:Qt,crypto_box_NONCEBYTES:ur,crypto_box_ZEROBYTES:Gn,crypto_box_BOXZEROBYTES:Nn,crypto_sign_BYTES:W,crypto_sign_PUBLICKEYBYTES:ie,crypto_sign_SECRETKEYBYTES:ge,crypto_sign_SEEDBYTES:bt,crypto_hash_BYTES:pt,gf:n,D:Q,L:Te,pack25519:Ie,unpack25519:yt,M:b,A:N,S:V,Z:T,pow2523:Ar,add:Ge,set25519:q,modL:wt,scalarmult:_t,scalarbase:Qe};function Cr(i,A){if(i.length!==Bt)throw new Error("bad key size");if(A.length!==Re)throw new Error("bad nonce size")}I(Cr,"checkLengths");function Tn(i,A){if(i.length!==De)throw new Error("bad public key size");if(A.length!==me)throw new Error("bad secret key size")}I(Tn,"checkBoxLengths");function M(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}I(M,"checkArrayTypes");function lr(i){for(var A=0;A<i.length;A++)i[A]=0}I(lr,"cleanup"),e.randomBytes=function(i){var A=new Uint8Array(i);return s(A,i),A},e.secretbox=function(i,A,o){M(i,A,o),Cr(o,A);for(var a=new Uint8Array(be+i.length),h=new Uint8Array(a.length),c=0;c<i.length;c++)a[c+be]=i[c];return Ct(h,a,a.length,A,o),h.subarray(ce)},e.secretbox.open=function(i,A,o){M(i,A,o),Cr(o,A);for(var a=new Uint8Array(ce+i.length),h=new Uint8Array(a.length),c=0;c<i.length;c++)a[c+ce]=i[c];return a.length<32||lt(h,a,a.length,A,o)!==0?null:h.subarray(be)},e.secretbox.keyLength=Bt,e.secretbox.nonceLength=Re,e.secretbox.overheadLength=ce,e.scalarMult=function(i,A){if(M(i,A),i.length!==je)throw new Error("bad n size");if(A.length!==pe)throw new Error("bad p size");var o=new Uint8Array(pe);return He(o,i,A),o},e.scalarMult.base=function(i){if(M(i),i.length!==je)throw new Error("bad n size");var A=new Uint8Array(pe);return Pe(A,i),A},e.scalarMult.scalarLength=je,e.scalarMult.groupElementLength=pe,e.box=function(i,A,o,a){var h=e.box.before(o,a);return e.secretbox(i,A,h)},e.box.before=function(i,A){M(i,A),Tn(i,A);var o=new Uint8Array(Qt);return Ve(o,i,A),o},e.box.after=e.secretbox,e.box.open=function(i,A,o,a){var h=e.box.before(o,a);return e.secretbox.open(i,A,h)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var i=new Uint8Array(De),A=new Uint8Array(me);return ar(i,A),{publicKey:i,secretKey:A}},e.box.keyPair.fromSecretKey=function(i){if(M(i),i.length!==me)throw new Error("bad secret key size");var A=new Uint8Array(De);return Pe(A,i),{publicKey:A,secretKey:new Uint8Array(i)}},e.box.publicKeyLength=De,e.box.secretKeyLength=me,e.box.sharedKeyLength=Qt,e.box.nonceLength=ur,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(i,A){if(M(i,A),A.length!==ge)throw new Error("bad secret key size");var o=new Uint8Array(W+i.length);return fr(o,i,i.length,A),o},e.sign.open=function(i,A){if(M(i,A),A.length!==ie)throw new Error("bad public key size");var o=new Uint8Array(i.length),a=xt(o,i,i.length,A);if(a<0)return null;for(var h=new Uint8Array(a),c=0;c<h.length;c++)h[c]=o[c];return h},e.sign.detached=function(i,A){for(var o=e.sign(i,A),a=new Uint8Array(W),h=0;h<a.length;h++)a[h]=o[h];return a},e.sign.detached.verify=function(i,A,o){if(M(i,A,o),A.length!==W)throw new Error("bad signature size");if(o.length!==ie)throw new Error("bad public key size");var a=new Uint8Array(W+i.length),h=new Uint8Array(W+i.length),c;for(c=0;c<W;c++)a[c]=A[c];for(c=0;c<i.length;c++)a[c+W]=i[c];return xt(h,a,a.length,o)>=0};function yr(i){let A=new Uint8Array(64),o=[n(),n(),n(),n()],a,h=new Uint8Array(32);return A=he(i,64),A[0]&=248,A[31]&=127,A[31]|=64,Qe(o,A),Ne(h,o),h}I(yr,"derivePublicFromSecret"),e.sign.keyPair=function(){var i=new Uint8Array(ie),A=new Uint8Array(ge);return dt(i,A),{publicKey:i,secretKey:A}},e.sign.keyPair.fromSecretKey=function(i){if(M(i),i.length!==ge)throw new Error("bad secret key size");var A=new Uint8Array(ie);return A=yr(i),{publicKey:A,secretKey:new Uint8Array(i)}},e.sign.keyPair.fromSeed=function(i){if(M(i),i.length!==bt)throw new Error("bad seed size");for(var A=new Uint8Array(ie),o=new Uint8Array(ge),a=0;a<32;a++)o[a]=i[a];return dt(A,o,!0),{publicKey:A,secretKey:o}},e.sign.publicKeyLength=ie,e.sign.secretKeyLength=ge,e.sign.seedLength=bt,e.sign.signatureLength=W,e.hash=function(i){M(i);var A=new Uint8Array(pt);return cr(A,i,i.length),A},e.hash.hashLength=pt,e.verify=function(i,A){return M(i,A),i.length===0||A.length===0||i.length!==A.length?!1:It(i,0,A,0,i.length)===0},e.setPRNG=function(i){s=i},function(){var i=typeof self<"u"?self.crypto||self.msCrypto:null;if(i&&i.getRandomValues){var A=65536;e.setPRNG(function(o,a){var h,c=new Uint8Array(a);for(h=0;h<a;h+=A)i.getRandomValues(c.subarray(h,h+Math.min(a-h,A)));for(h=0;h<a;h++)o[h]=c[h];lr(c)})}else typeof _r<"u"&&i&&i.randomBytes&&e.setPRNG(function(o,a){var h,c=i.randomBytes(a);for(h=0;h<a;h++)o[h]=c[h];lr(c)})}()})(typeof $e<"u"&&$e.exports?$e.exports:self.nacl=self.nacl||{})});var rt=U(E=>{"use strict";var Zi=E&&E.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:I(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),$i=E&&E.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),eo=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Zi(r,e,t);return $i(r,e),r},to=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});E.verify_signed_message=E.sign_message=E.construct_message_block_and_hash=E.verify_block_hash=E.sign_block_hash=E.hash_block=E.get_public_key_from_address=E.get_address_from_public_key=E.get_public_key_from_private_key=E.get_private_key_from_seed=E.raw_to_whole=E.whole_to_raw=E.utf8_to_uint8array=E.base32_to_uint8array=E.uint8array_to_base32=E.int_to_uint8array=E.hex_to_uint8array=E.uint8array_to_hex=void 0;var Lt=eo(In()),tt=to(Yt()),ro="0000000000000000000000000000000000000000000000000000000000000006",Mt="62616E616E6F6D73672D",Fe=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];function Ke(e){let r="";for(let t=0;t<e.length;t++)r+=Fe[Math.floor(e[t]/16)]+Fe[e[t]%16];return r}I(Ke,"uint8array_to_hex");E.uint8array_to_hex=Ke;function v(e){e=e.toUpperCase();let r=new Uint8Array(Math.ceil(e.length/2));for(let t=0;t<Math.floor(e.length/2);t++)r[t]=Fe.indexOf(e[t*2])*16+Fe.indexOf(e[t*2+1]);return e.length/2%1!==0&&(r[r.length-1]=Fe.indexOf(e[e.length-1])*16),r}I(v,"hex_to_uint8array");E.hex_to_uint8array=v;function hn(e,r){let t=new Uint8Array(r);for(let n=1;n<=r;n++)if(n===1)t[r-n]=e%16**2;else{let s=e;for(let g=n-1;g>0;g--)s-=t[r-g]*16**(2*(g-1));t[r-n]=Math.floor(s/16**(2*(n-1)))}return t}I(hn,"int_to_uint8array");E.int_to_uint8array=hn;var cn=["1","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","m","n","o","p","q","r","s","t","u","w","x","y","z"];function kt(e){let r="";for(let t=0;t<Math.floor(e.length*8/5);t++){let n=t*5,s=Math.floor(n/8),g=n%8,l,_=8-g;if(_>=5)l=e[s]>>_-5&31;else{let w=5-_;l=(e[s]<<w&31)+(e[s+1]>>8-w&2**(8-w)-1)}r+=cn[l]}return r}I(kt,"uint8array_to_base32");E.uint8array_to_base32=kt;function no(e,r){let t="",n=e;for(let s=0;s<r;s++)n>=2**(r-1-s)?(t+="1",n-=2**(r-1-s)):t+="0";return t}I(no,"int_to_binary");function io(e){let r=0;for(let t=0;t<e.length;t++)r+=e[t]==="1"?2**(e.length-1-t):0;return r}I(io,"binary_to_int");function gn(e){let r=e.split("").map(n=>no(cn.indexOf(n),5)).join(""),t=new Uint8Array(Math.ceil(e.length*5/8));for(let n=0;n<t.length;n++)t[n]=io(r.slice(n*8,n*8+8));return t}I(gn,"base32_to_uint8array");E.base32_to_uint8array=gn;function fn(e){return new TextEncoder().encode(e)}I(fn,"utf8_to_uint8array");E.utf8_to_uint8array=fn;var un=29;function oo(e,r=un){let t;if(e.includes(".")){let n=e.split(".");if(0>r-n[1].length)throw Error(`Too many decimals, cannot exceed ${r}`);t=BigInt(n[0])*BigInt(10)**BigInt(r)+BigInt(n[1])*BigInt(10)**BigInt(r-n[1].length)}else t=BigInt(e)*BigInt(10)**BigInt(r);return t}I(oo,"whole_to_raw");E.whole_to_raw=oo;function Ao(e,r=un){let t=e.toString(),n;if(t.length>r)n=t.slice(0,-r)+"."+t.slice(-r);else{let g=r-t.length;n="0."+"0".repeat(g>0?g:0)+t}let s=n.length;for(let g=0;g<s;g++)(n.slice(-1)==="0"||n.slice(-1)===".")&&(n=n.slice(0,-1));return n}I(Ao,"raw_to_whole");E.raw_to_whole=Ao;function ao(e,r){return(0,tt.default)(32).update(v(e)).update(hn(r,4)).digest("hex").toUpperCase()}I(ao,"get_private_key_from_seed");E.get_private_key_from_seed=ao;function Cn(e){return Ke(Lt.sign.keyPair.fromSecretKey(v(e)).publicKey)}I(Cn,"get_public_key_from_private_key");E.get_public_key_from_private_key=Cn;function Ht(e,r="ban_"){let t=kt(v(`0${e}`)),n=kt((0,tt.default)(5,null,null,null,!0).update(v(e)).digest().reverse());return`ban_${t}${n}`}I(Ht,"get_address_from_public_key");E.get_address_from_public_key=Ht;function et(e){let r=gn(e.split("_")[1].slice(0,52));return r[r.length-1]=r[r.length-1]*16,Ke(r).slice(1,-1)}I(et,"get_public_key_from_address");E.get_public_key_from_address=et;function ln(e){let r=BigInt(e.balance).toString(16).toUpperCase();for(;r.length<32;)r="0"+r;return(0,tt.default)(32).update(v(ro)).update(v(et(e.account))).update(v(e.previous)).update(v(et(e.representative))).update(v(r)).update(v(e.link)).digest("hex").toUpperCase()}I(ln,"hash_block");E.hash_block=ln;function yn(e,r){return Ke(Lt.sign.detached(v(r),v(e)))}I(yn,"sign_block_hash");E.sign_block_hash=yn;function _n(e,r,t){return Lt.sign.detached.verify(v(t),v(r),v(e))}I(_n,"verify_block_hash");E.verify_block_hash=_n;function Pt(e,r,t=Mt){let n="0".repeat(64),s={type:"state",account:e,previous:n,representative:Ht(Ke((0,tt.default)(32).update(v(t)).update(fn(r)).digest())),balance:"0",link:n};return ln(s)}I(Pt,"construct_message_block_and_hash");E.construct_message_block_and_hash=Pt;function so(e,r,t=Mt){return yn(e,Pt(Ht(Cn(e)),r,t))}I(so,"sign_message");E.sign_message=so;function Io(e,r,t,n=Mt){return _n(et(e),t,Pt(e,r,n))}I(Io,"verify_signed_message");E.verify_signed_message=Io});var dn=U(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.RPCWithBackup=le.RPC=void 0;var ho=rt(),nt=class{static{I(this,"RPC")}constructor(r,t=!1){this.DECIMALS=void 0,this.debug=!1,this.rpc_url=r,this.use_pending=t}async call(r){this.debug&&console.log(JSON.stringify(r));let t=await fetch(this.rpc_url,{method:"POST",headers:this.headers??{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok&&this.debug&&console.log(await t.text()),!t.ok)throw Error(`Request to RPC node failed with status code ${t.status}`);let n=await t.json();if(n.error)throw Error(`RPC node response: ${n.error}`);return n}async get_block_count(){return await this.call({action:"block_count"})}async get_block_info(r){return await this.call({action:"block_info",hash:r,json_block:!0})}async get_blocks(r){return await this.call({action:"blocks",hashes:r,json_block:!0})}async get_blocks_info(r){return await this.call({action:"blocks_info",hashes:r,json_block:!0})}async get_representatives(){return await this.call({action:"representatives"})}async get_representatives_online(r){return await this.call({action:"representatives_online",weight:r?"true":void 0})}async get_account_history(r,t,n,s,g,l,_){return await this.call({action:"account_history",account:r,count:`${t}`,raw:n?"true":void 0,head:s,offset:g?`${g}`:void 0,reverse:l?"true":void 0,account_filter:_})}async get_account_info(r,t,n,s,g){return await this.call({action:"account_info",account:r,representative:n?"true":void 0,weight:s?"true":void 0,pending:g?"true":void 0})}async get_account_balance(r){return await this.call({action:"account_balance",account:r})}async get_accounts_balances(r){return await this.call({action:"accounts_balances",accounts:r})}async get_account_representative(r){return await this.call({action:"account_representative",account:r})}async get_accounts_representatives(r){return await this.call({action:"accounts_representatives",account:r})}async get_account_weight(r){return await this.call({action:"account_weight",account:r})}async get_account_receivable(r,t,n,s){return await this.call({action:this.use_pending?"pending":"receivable",account:r,count:t?`${t}`:void 0,threshold:n?(0,ho.whole_to_raw)(n,this.DECIMALS).toString():void 0,source:s?"true":void 0})}async get_delegators(r,t,n,s){return await this.call({action:"delegators",account:r,threshold:t?`${t}`:void 0,count:n?`${n}`:void 0,start:s})}async get_delegators_count(r){return await this.call({action:"account_weight",account:r})}};le.RPC=nt;var Vt=class extends nt{static{I(this,"RPCWithBackup")}constructor(r,t,n=!1){if(r.length<2)throw Error("Must provide at least two RPC URLs");super(r[0],n),this.rpc_urls=r,this.timeout=t}async call(r){let t=0;for(;;)try{let n=await fetch(this.rpc_urls[t],{method:"POST",headers:this.headers??{"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout)});if(!n.ok)throw Error(`Request to RPC node failed with status code ${n.status}`);let s=await n.json();if(s.error)throw Error(`RPC node response: ${s.error}`);return s}catch(n){if(!this.rpc_urls[++t])throw Error(n)}}};le.RPCWithBackup=Vt});var En=U(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0})});var xn=U(G=>{"use strict";var co=G&&G.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:I(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),go=G&&G.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),fo=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&co(r,e,t);return go(r,e),r};Object.defineProperty(G,"__esModule",{value:!0});G.PrivateKeyAccount=G.Wallet=void 0;var K=fo(rt()),it=class e{static{I(this,"Wallet")}constructor(r,t,n=0,s){if(this.add_do_work=!0,this.rpc=r,typeof t!="string"||t?.length!==64)throw Error("Seed needs to be 64 character (hex) string");this.seed=t,this.index=n,this.work_function=s}static gen_random_wallet(r){let t=new Uint8Array(32);crypto.getRandomValues(t);let n=K.uint8array_to_hex(t);return new e(r,n)}get private_key(){return K.get_private_key_from_seed(this.seed,this.index)}get public_key(){return K.get_public_key_from_private_key(this.private_key)}get address(){return K.get_address_from_public_key(this.public_key)}async send_process(r,t){return(await this.rpc.call({action:"process",json_block:"true",subtype:t,block:r,do_work:!r.work&&this.add_do_work?!0:void 0})).hash}async send(r,t,n,s,g){let l=K.whole_to_raw(t,this.rpc.DECIMALS),_=g??await this.get_account_info(void 0,!0),w=K.get_public_key_from_address(r);s||(s=_.representative);let x=BigInt(_.balance),Q=x-l;if(Q<0n)throw Error(`Insufficient funds to send. Cannot send more than balance; ie, Before balance (raw: ${x}) less than send amount (raw: ${l})`);let m={type:"state",account:this.address,previous:_.frontier,representative:s,balance:Q.toString(),link:w,link_as_account:r},Y=K.hash_block(m),ee;n&&(ee=await this.work_function(Y));let we=K.sign_block_hash(this.private_key,Y),te={...m,signature:we,work:ee};return await this.send_process(te,"send")}async send_all(r,t,n){let s=await this.get_account_info(void 0,!0);return await this.send(r,K.raw_to_whole(BigInt(s.balance),this.rpc.DECIMALS),t,n,s)}async receive(r,t,n){let s=await this.rpc.get_block_info(r),g=0n;n||(n=this.address);let l;try{let Y=await this.get_account_info(void 0,!0);l=Y.frontier,n=Y.representative,g=BigInt(Y.balance)}catch{l="0".repeat(64)}let _={type:"state",account:this.address,previous:l,representative:n,balance:(g+BigInt(s.amount)).toString(),link:r},w=K.hash_block(_),x;t&&(x=await this.work_function(w));let Q=K.sign_block_hash(this.private_key,w),m={..._,signature:Q,work:x};return await this.send_process(m,"receive")}async receive_all(r=20,t,n){let s=(await this.get_account_receivable(r,t,!0)).blocks,g,l,_;try{let x=await this.get_account_info(void 0,!0);g=x.frontier,l=x.representative,_=BigInt(x.balance)}catch{g="0".repeat(64),l=this.address,_=BigInt(0)}let w=[];for(let x of Object.keys(s)){let Q=(_+BigInt(s[x].amount)).toString(),m={type:"state",account:this.address,previous:g,representative:l,balance:Q,link:x},Y=K.hash_block(m),ee;n&&(ee=await this.work_function(Y));let we=K.sign_block_hash(this.private_key,Y),te={...m,signature:we,work:ee};await this.send_process(te,"receive"),w.push(Y),g=Y,_=BigInt(Q)}return w}async change_representative(r,t){let n=await this.get_account_info(),s={type:"state",account:this.address,previous:n.frontier,representative:r,balance:n.balance,link:"0".repeat(64)},g=K.hash_block(s),l;t&&(l=await this.work_function(g));let _=K.sign_block_hash(this.private_key,g),w={...s,signature:_,work:l};return await this.send_process(w,"change")}async change_rep(r,t){return await this.change_representative(r,t)}async get_account_info(r,t,n,s){return await this.rpc.get_account_info(this.address,r,t,n,s)}async get_account_receivable(r,t,n){return await this.rpc.get_account_receivable(this.address,r,t,n)}sign_message(r){return K.sign_message(this.private_key,r)}};G.Wallet=it;var Ot=class extends it{static{I(this,"PrivateKeyAccount")}constructor(r,t,n){if(typeof t!="string"||t?.length!==64)throw Error("Priv key needs to be 64 character (hex) string");super(r,t,0,n),this._private_key=t}get private_key(){return this._private_key}};G.PrivateKeyAccount=Ot});var Bn=U(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.RPCWorkProvider=void 0;var Gt=class{static{I(this,"RPCWorkProvider")}constructor(r){this.extra_payload={},this.rpc=r}async request_work(r){return(await this.rpc.call({action:"work_generate",hash:r,...this.extra_payload})).work}};ot.RPCWorkProvider=Gt});var ke=U(j=>{"use strict";var uo=j&&j.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:I(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ye=j&&j.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&uo(r,e,t)};Object.defineProperty(j,"__esModule",{value:!0});Ye(rt(),j);Ye(dn(),j);Ye(En(),j);Ye(xn(),j);Ye(Bn(),j)});var Nt={};Dt(Nt,{LOG:()=>Le,address_to_cid_v0:()=>lo,base58_to_hex:()=>Dn,bigint_to_uint8array:()=>pn,cid_v0_to_address:()=>Co,decode_domain_name:()=>ye,encode_domain_name:()=>At,hex_to_base58:()=>bn});var $=Xe(ke());var Le=!0;function At(e){if(e.includes(".")||e.includes("\0")||e.includes('"'))throw new Error(`Domain name cannot include '.' or '"' or '\\u0000'`);let r=(0,$.uint8array_to_hex)(new TextEncoder().encode(e));if(r.length>64)throw new Error("Cannot be more than 32 bytes");return r.length<64&&(r="0".repeat(64-r.length)+r),r}I(At,"encode_domain_name");function ye(e){return new TextDecoder().decode((0,$.hex_to_uint8array)(e)).replaceAll("\0","")}I(ye,"decode_domain_name");var Qn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function bn(e){let r=BigInt(`0x${e}`),t="";for(;t+=Qn[Number(r%BigInt(58))],r=r/BigInt(58),r!==0n;);return t.split("").reverse().join("")}I(bn,"hex_to_base58");function pn(e,r){let t=new Uint8Array(r),n=e;for(let s=1;s<=r;s++)t[r-s]=Number(n%256n),n/=256n;return t}I(pn,"bigint_to_uint8array");function Dn(e){let r=0n;for(let t=0;t<e.length;t++)r+=BigInt(Qn.indexOf(e[e.length-t-1]))*BigInt(58)**BigInt(t);return(0,$.uint8array_to_hex)(pn(r,34))}I(Dn,"base58_to_hex");function Co(e){return(0,$.get_address_from_public_key)(Dn(e).slice(4))}I(Co,"cid_v0_to_address");function lo(e){return bn("1220"+(0,$.get_public_key_from_address)(e))}I(lo,"address_to_cid_v0");var Rt={};Dt(Rt,{DomainAccount:()=>de,Resolver:()=>Tt,TLDAccount:()=>_e});var S=Xe(ke());var at=class{static{I(this,"Account")}constructor(r,t){this.rpc=r,this.address=t}async get_open_and_frontier(){let r=await this.rpc.get_account_info(this.address,!0);return[r.open_block,r.confirmation_height_frontier??r.frontier]}async get_history_from_open(r,t){return await this.rpc.get_account_history(this.address,t,!0,r,void 0,!0)}},_e=class extends at{static{I(this,"TLDAccount")}constructor(r,t){super(r,t),this.all_issued=[]}async get_specific(r){let[t,n]=await this.get_open_and_frontier(),s=t;for(;;){let{history:g}=await this.get_history_from_open(s,100);for(let l of g){let _=BigInt(l.amount??0),w=(0,S.whole_to_raw)("0.0012070301"),x=(0,S.whole_to_raw)("0.00120703011");if(_>=w&&_<=x){let Q=ye((0,S.get_public_key_from_address)(l.representative));if(r===Q)return{tld:this.address,name:r,history:[{type:"transfer",block:l,to:(0,S.get_address_from_public_key)(l.link)}]}}if(l.hash===n)return}s=g[g.length-1].hash}}async get_all_issued(){let[r,t]=await this.get_open_and_frontier(),n=r,s={};for(;;){let{history:g}=await this.get_history_from_open(n,100);for(let l of g){let _=BigInt(l.amount??0),w=(0,S.whole_to_raw)("0.0012070301"),x=(0,S.whole_to_raw)("0.00120703011");if(l.subtype==="send"&&_>=w&&_<=x){let Q=ye((0,S.get_public_key_from_address)(l.representative));if(s[Q]?Le&&console.log(`"${Q}" already issued but TLD tried to issue again. Invalid.`):s[Q]={tld:this.address,name:Q,history:[{type:"transfer",block:l,to:(0,S.get_address_from_public_key)(l.link)}]},l.hash===t)return this.all_issued=Object.values(s),this.all_issued}}n=g[g.length-1].hash}}},de=class extends at{static{I(this,"DomainAccount")}constructor(r,t,n){super(r,t),this.domain=n}async crawl(){let r,t;try{[r,t]=await this.get_open_and_frontier()}catch{return Le&&console.log("Not yet received"),this.domain}let n=r;for(;;){let{history:s}=await this.get_history_from_open(n,1e3);for(let g of s){let l=BigInt(g.amount??0),_=(0,S.whole_to_raw)("0.0012070301"),w=(0,S.whole_to_raw)("0.00120703011");if(g.height==="1"){if(g.link!==this.domain.history[this.domain.history.length-1]?.block.hash)return Le&&console.log("Domain burned"),this.domain.burned=!0,this.domain;this.domain.history.push({type:"receive",block:g})}else if(g.subtype==="send"&&l>=_&&l<=w){let x=ye((0,S.get_public_key_from_address)(g.representative));if(this.domain.name===x)return this.domain.resolved_address=void 0,this.domain.metadata_hash=void 0,this.domain.history.push({type:"transfer",block:g,to:(0,S.get_address_from_public_key)(g.link)}),this.domain}else g.subtype==="change"?(this.domain.metadata_hash=(0,S.get_public_key_from_address)(g.representative),this.domain.history.push({type:"metadata",block:g,metadata_hash:this.domain.metadata_hash})):g.subtype==="send"&&l===4224n&&(this.domain.resolved_address=(0,S.get_address_from_public_key)(g.link),this.domain.history.push({type:"resolver",block:g,resolved_address:this.domain.resolved_address}));if(g.hash===t)return this.domain}n=s[s.length-1].hash}}},Tt=class{static{I(this,"Resolver")}constructor(r,t){this.rpc=r,this.tld_mapping=t}async resolve(r,t){if(!this.tld_mapping[t])throw new Error("No TLD Account found for that TLD");let s=await new _e(this.rpc,this.tld_mapping[t]).get_specific(r);if(!s)return s;for(;;){let g=s.history[s.history.length-1].to,l=new de(this.rpc,g,s),_=s.history.length;if(s=await l.crawl(),s.history[s.history.length-1].type!=="transfer"||s.burned||_===s.history.length)break}return s}async resolve_backwards_ish(r,t){let n=(await this.rpc.get_account_info(r,!0)).open_block,s=(await this.rpc.get_block_info(n)).contents.link,g=await this.rpc.get_block_info(s),l=ye((0,S.get_public_key_from_address)(g.contents.representative)),_=await this.resolve(l,t);if(_.history.reverse().find(x=>x.type==="transfer").to===r)return _}};var Xt={};Dt(Xt,{DomainAccountManager:()=>Jt,TLDAccountManager:()=>jt});var P=Xe(ke());var jt=class extends _e{static{I(this,"TLDAccountManager")}constructor(r,t){super(r,t.address),this.wallet=t}async issue_domain_name(r,t){if(this.all_issued.some(s=>s.name===r))throw new Error("Cannot issue a domain name that is already issued");return await this.wallet.send(t,"0.00120703011",void 0,(0,P.get_address_from_public_key)(At(r)))}async receive(){await this.wallet.receive_all()}},Jt=class extends de{static{I(this,"DomainAccountManager")}constructor(r,t,n){super(r,t.address),this.wallet=t,this.domain=n}async receive_domain(r,t){let n=!1,{history:s}=await this.rpc.get_account_history(this.address,1);if(s.length>1&&!t)throw n=!0,new Error("`allow_burning` must be true in order to receive this domain");let g=await this.rpc.get_block_info(r),l=(0,P.whole_to_raw)("0.0012070301"),_=(0,P.whole_to_raw)("0.00120703011"),w=BigInt(g.amount);if(w<l||w>_)throw new Error("`receive_hash` is not a Domain Transfer block");await this.wallet.receive(r)}async transfer_domain(r,t){let n=(await this.wallet.get_account_info()).balance,s=(0,P.whole_to_raw)("0.0012070301"),g=(0,P.whole_to_raw)("0.00120703011"),l=(0,P.raw_to_whole)(g);return g>BigInt(n)&&s<=BigInt(n)&&(l=(0,P.raw_to_whole)(BigInt(n))),await this.wallet.send(t,l,void 0,(0,P.get_address_from_public_key)(At(r)))}async declare_domain_metadata(r){await this.wallet.change_representative((0,P.get_address_from_public_key)(r))}async declare_domain_resolve_to(r){await this.wallet.send(r,(0,P.raw_to_whole)(4224n))}};var mn={};var yo=Xe(ke());window.bns={...Nt,...Rt,...Xt,...mn,banani:yo};})();
/*! Bundled license information:

banani/tweetnacl_mod.js:
  (*!!! BANANO CHANGE: we are replacing the below line with blake2b *)
  (*!!! BANANO CHANGE: below line commented out *)
  (*!!! BANANO CHANGE: Changed hashing to blake2b, and the derive pk thing *)
  (*!!! BANANO CHANGE *)
  (*!!! BANANO CHANGE: New function. I don't know what's going on, just looking at what bananojs changed *)
  (*!!! BANANO CHANGE: we are replacing the below line with other... math stuff. Again, I don't know what's going on, just looking at what bananojs changed *)
*/
